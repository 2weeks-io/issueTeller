!function(t){function e(e){for(var i,s,a=e[0],l=e[1],c=e[2],h=0,u=[];h<a.length;h++)s=a[h],Object.prototype.hasOwnProperty.call(o,s)&&o[s]&&u.push(o[s][0]),o[s]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(t[i]=l[i]);for(d&&d(e);u.length;)u.shift()();return r.push.apply(r,c||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],i=!0,a=1;a<n.length;a++){var l=n[a];0!==o[l]&&(i=!1)}i&&(r.splice(e--,1),t=s(s.s=n[0]))}return t}var i={},o={3:0},r=[];function s(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=i,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)s.d(n,i,function(e){return t[e]}.bind(null,i));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/resources/";var a=window.webpackJsonp=window.webpackJsonp||[],l=a.push.bind(a);a.push=e,a=a.slice();for(var c=0;c<a.length;c++)e(a[c]);var d=l;r.push([355,0]),n()}({11:function(t,e,n){"use strict";const i={ID_TMPL_SLIDE:"#slideTmpl",ID_TMPL_REPLY:"#replyTmpl",ID_TMPL_BEST_REPLY:"#bestReplyTmpl",ID_TMPL_MAIN_CARD:"#cardTmpl",ID_TMPL_SUBREPLY:"#subReplyTmpl",ID_TMPL_RECOMCOUNTTX:"#recomCountTx",ID_TMPL_DETAILPAGE:"#page_detail",ID_TMPL_DETAILPAGE_AFTER:"#page_detail-after",URL_CREATE_COMMENT:"http://2weeks.io/issueTellerwriteComment",URL_CREATE_COMPLAIN:"http://2weeks.io/issueTellerreportWriting",URL_CREATE_MEMBER:"http://2weeks.io/issueTellerenroll",URL_CREATE_SESSION:"http://2weeks.io/issueTellerlogin",URL_CREATE_POST:"http://2weeks.io/issueTellerwritePost",URL_UPDATE_VOTECOUNT:"http://2weeks.io/issueTellervote",URL_UPDATE_RECOMCOUNT:"http://2weeks.io/issueTellercommentPreferUpdate",URL_READ_SLIDE_DATA:"http://2weeks.io/issueTellergetDetailDtoList",URL_READ_DETAIL_DATA:"http://2weeks.io/issueTellergetWritingDtlDto",URL_READ_MAIN_CARD_DATA:"http://2weeks.io/issueTellergetPagingList",URL_READ_SEARCH_CARD_DATA:"http://2weeks.io/issueTellersearchWrtingList",URL_READ_NICKNAME:"http://2weeks.io/issueTeller + 'getNickname'",URL_READ_USERINFO:"http://2weeks.io/issueTellergetUserInfo",URL_READ_COMMENT_LIST:"http://2weeks.io/issueTellergetCommentDtoList",URL_REMOVE_SESSION:"http://2weeks.io/issueTellerlogout",URL_REMOVE_COMMENT:"http://2weeks.io/issueTellerdeleteComment",PAGE_NAME_SWIPE:"swipe",PAGE_NAME_SEARCH:"search",TYPE_COMMENT:"000",TYPE_LOWCOMMENT:"111"};e.a=i},355:function(t,e,n){t.exports=n(368)},356:function(t,e,n){"use strict";(function(t){!function(e,i){var o=1,r=3,s=9,a=11,l=1,c="​",d=e.defaultView,h=navigator.userAgent,u=/Android/.test(h),p=/iP(?:ad|hone|od)/.test(h),f=/Mac OS X/.test(h),g=/Windows NT/.test(h),m=/Gecko\//.test(h),b=/Trident\/[456]\./.test(h),v=!!d.opera,_=/Edge\//.test(h),x=!_&&/WebKit\//.test(h),y=/Trident\/[4567]\./.test(h),C=f?"meta-":"ctrl-",S=b||v,N=b||x,w=b,T="undefined"!=typeof MutationObserver,k="undefined"!=typeof WeakMap,E=/[^ \t\r\n]/,L=Array.prototype.indexOf;Object.create||(Object.create=function(t){var e=function(){};return e.prototype=t,new e});var R={1:1,2:2,3:4,8:128,9:256,11:1024},A=function(){return!0};function O(t,e,n){this.root=this.currentNode=t,this.nodeType=e,this.filter=n||A}O.prototype.nextNode=function(){for(var t,e=this.currentNode,n=this.root,i=this.nodeType,o=this.filter;;){for(t=e.firstChild;!t&&e&&e!==n;)(t=e.nextSibling)||(e=e.parentNode);if(!t)return null;if(R[t.nodeType]&i&&o(t))return this.currentNode=t,t;e=t}},O.prototype.previousNode=function(){for(var t,e=this.currentNode,n=this.root,i=this.nodeType,o=this.filter;;){if(e===n)return null;if(t=e.previousSibling)for(;e=t.lastChild;)t=e;else t=e.parentNode;if(!t)return null;if(R[t.nodeType]&i&&o(t))return this.currentNode=t,t;e=t}},O.prototype.previousPONode=function(){for(var t,e=this.currentNode,n=this.root,i=this.nodeType,o=this.filter;;){for(t=e.lastChild;!t&&e&&e!==n;)(t=e.previousSibling)||(e=e.parentNode);if(!t)return null;if(R[t.nodeType]&i&&o(t))return this.currentNode=t,t;e=t}};var D=/^(?:#text|A(?:BBR|CRONYM)?|B(?:R|D[IO])?|C(?:ITE|ODE)|D(?:ATA|EL|FN)|EM|FONT|HR|I(?:FRAME|MG|NPUT|NS)?|KBD|Q|R(?:P|T|UBY)|S(?:AMP|MALL|PAN|TR(?:IKE|ONG)|U[BP])?|TIME|U|VAR|WBR)$/,B={BR:1,HR:1,IFRAME:1,IMG:1,INPUT:1};var P=0,M=1,I=2,U=3,F=k?new WeakMap:null;function z(t){return t.nodeType===o&&!!B[t.nodeName]}function $(t){switch(t.nodeType){case r:return M;case o:case a:if(k&&F.has(t))return F.get(t);break;default:return P}var e;return e=function(t,e){for(var n=t.length;n--;)if(!e(t[n]))return!1;return!0}(t.childNodes,q)?D.test(t.nodeName)?M:I:U,k&&F.set(t,e),e}function q(t){return $(t)===M}function H(t){return $(t)===I}function W(t){return $(t)===U}function j(t,e){var n=new O(e,l,H);return n.currentNode=t,n}function K(t,e){return(t=j(t,e).previousNode())!==e?t:null}function G(t,e){return(t=j(t,e).nextNode())!==e?t:null}function V(t){return!t.textContent&&!t.querySelector("IMG")}function Z(t,e){return!z(t)&&t.nodeType===e.nodeType&&t.nodeName===e.nodeName&&"A"!==t.nodeName&&t.className===e.className&&(!t.style&&!e.style||t.style.cssText===e.style.cssText)}function Q(t,e,n){if(t.nodeName!==e)return!1;for(var i in n)if(t.getAttribute(i)!==n[i])return!1;return!0}function Y(t,e,n,i){for(;t&&t!==e;){if(Q(t,n,i))return t;t=t.parentNode}return null}function X(t,e){for(;e;){if(e===t)return!0;e=e.parentNode}return!1}function J(t){var e=t.nodeType;return e===o||e===a?t.childNodes.length:t.length||0}function tt(t){var e=t.parentNode;return e&&e.removeChild(t),t}function et(t,e){var n=t.parentNode;n&&n.replaceChild(e,t)}function nt(t){for(var e=t.ownerDocument.createDocumentFragment(),n=t.childNodes,i=n?n.length:0;i--;)e.appendChild(t.firstChild);return e}function it(t,e,n,o){var r,s,a,l=t.createElement(e);if(n instanceof Array&&(o=n,n=null),n)for(r in n)n[r]!==i&&l.setAttribute(r,n[r]);if(o)for(s=0,a=o.length;s<a;s+=1)l.appendChild(o[s]);return l}function ot(t,e){var n,i,o=e.__squire__,s=t.ownerDocument,a=t;if(t===e&&((i=t.firstChild)&&"BR"!==i.nodeName||(n=o.createDefaultBlock(),i?t.replaceChild(n,i):t.appendChild(n),t=n,n=null)),t.nodeType===r)return a;if(q(t)){for(i=t.firstChild;N&&i&&i.nodeType===r&&!i.data;)t.removeChild(i),i=t.firstChild;i||(N?(n=s.createTextNode(c),o._didAddZWS()):n=s.createTextNode(""))}else if(S){for(;t.nodeType!==r&&!z(t);){if(!(i=t.firstChild)){n=s.createTextNode("");break}t=i}t.nodeType===r?/^ +$/.test(t.data)&&(t.data=""):z(t)&&t.parentNode.insertBefore(s.createTextNode(""),t)}else if(!t.querySelector("BR"))for(n=it(s,"BR");(i=t.lastElementChild)&&!q(i);)t=i;if(n)try{t.appendChild(n)}catch(e){o.didError({name:"Squire: fixCursor – "+e,message:"Parent: "+t.nodeName+"/"+t.innerHTML+" appendChild: "+n.nodeName})}return a}function rt(t,e){var n,i,o,r,s=t.childNodes,a=t.ownerDocument,l=null,c=e.__squire__._config;for(n=0,i=s.length;n<i;n+=1)!(r="BR"===(o=s[n]).nodeName)&&q(o)?(l||(l=it(a,c.blockTag,c.blockAttributes)),l.appendChild(o),n-=1,i-=1):(r||l)&&(l||(l=it(a,c.blockTag,c.blockAttributes)),ot(l,e),r?t.replaceChild(l,o):(t.insertBefore(l,o),n+=1,i+=1),l=null),W(o)&&rt(o,e);return l&&t.appendChild(ot(l,e)),t}function st(t,e,n,i){var s,a,l,c=t.nodeType;if(c===r&&t!==n)return st(t.parentNode,t.splitText(e),n,i);if(c===o){if("number"==typeof e&&(e=e<t.childNodes.length?t.childNodes[e]:null),t===n)return e;for(s=t.parentNode,a=t.cloneNode(!1);e;)l=e.nextSibling,a.appendChild(e),e=l;return"OL"===t.nodeName&&Y(t,i,"BLOCKQUOTE")&&(a.start=(+t.start||1)+t.childNodes.length-1),ot(t,i),ot(a,i),(l=t.nextSibling)?s.insertBefore(a,l):s.appendChild(a),st(s,a,n,i)}return e}function at(t,e){if(t.nodeType===r&&(t=t.parentNode),t.nodeType===o){var n={startContainer:e.startContainer,startOffset:e.startOffset,endContainer:e.endContainer,endOffset:e.endOffset};!function t(e,n){for(var i,s,a,l=e.childNodes,c=l.length,d=[];c--;)if(i=l[c],s=c&&l[c-1],c&&q(i)&&Z(i,s)&&!B[i.nodeName])n.startContainer===i&&(n.startContainer=s,n.startOffset+=J(s)),n.endContainer===i&&(n.endContainer=s,n.endOffset+=J(s)),n.startContainer===e&&(n.startOffset>c?n.startOffset-=1:n.startOffset===c&&(n.startContainer=s,n.startOffset=J(s))),n.endContainer===e&&(n.endOffset>c?n.endOffset-=1:n.endOffset===c&&(n.endContainer=s,n.endOffset=J(s))),tt(i),i.nodeType===r?s.appendData(i.data):d.push(nt(i));else if(i.nodeType===o){for(a=d.length;a--;)i.appendChild(d.pop());t(i,n)}}(t,n),e.setStart(n.startContainer,n.startOffset),e.setEnd(n.endContainer,n.endOffset)}}function lt(t,e,n,i){for(var r,s,a,l=e;(r=l.parentNode)&&r!==i&&r.nodeType===o&&1===r.childNodes.length;)l=r;tt(l),a=t.childNodes.length,(s=t.lastChild)&&"BR"===s.nodeName&&(t.removeChild(s),a-=1),t.appendChild(nt(e)),n.setStart(t,a),n.collapse(!0),at(t,n),v&&(s=t.lastChild)&&"BR"===s.nodeName&&t.removeChild(s)}function ct(t,e){var n,i,o=t.previousSibling,r=t.firstChild,s=t.ownerDocument,a="LI"===t.nodeName;if(!a||r&&/^[OU]L$/.test(r.nodeName))if(o&&Z(o,t)){if(!W(o)){if(!a)return;(i=it(s,"DIV")).appendChild(nt(o)),o.appendChild(i)}tt(t),n=!W(t),o.appendChild(nt(t)),n&&rt(o,e),r&&ct(r,e)}else a&&(o=it(s,"DIV"),t.insertBefore(o,r),ot(o,e))}var dt=function(t,e){for(var n=t.childNodes;e&&t.nodeType===o;)e=(n=(t=n[e-1]).childNodes).length;return t},ht=function(t,e){if(t.nodeType===o){var n=t.childNodes;if(e<n.length)t=n[e];else{for(;t&&!t.nextSibling;)t=t.parentNode;t&&(t=t.nextSibling)}}return t},ut=function(t,e){var n,i,o,s,a=t.startContainer,l=t.startOffset,c=t.endContainer,d=t.endOffset;a.nodeType===r?(i=(n=a.parentNode).childNodes,l===a.length?(l=L.call(i,a)+1,t.collapsed&&(c=n,d=l)):(l&&(s=a.splitText(l),c===a?(d-=l,c=s):c===n&&(d+=1),a=s),l=L.call(i,a)),a=n):i=a.childNodes,l===(o=i.length)?a.appendChild(e):a.insertBefore(e,i[l]),a===c&&(d+=i.length-o),t.setStart(a,l),t.setEnd(c,d)},pt=function(t,e,n){var i=t.startContainer,o=t.startOffset,s=t.endContainer,a=t.endOffset;e||(e=t.commonAncestorContainer),e.nodeType===r&&(e=e.parentNode);for(var l,c,d,h,u,p=st(s,a,e,n),f=st(i,o,e,n),g=e.ownerDocument.createDocumentFragment();f!==p;)l=f.nextSibling,g.appendChild(f),f=l;return i=e,o=p?L.call(e.childNodes,p):e.childNodes.length,(c=(d=e.childNodes[o])&&d.previousSibling)&&c.nodeType===r&&d.nodeType===r&&(i=c,o=c.length,h=c.data,u=d.data," "===h.charAt(h.length-1)&&" "===u.charAt(0)&&(u=" "+u.slice(1)),c.appendData(u),tt(d)),t.setStart(i,o),t.collapse(!0),ot(e,n),g},ft=function(t,e){var n,i,o=_t(t,e),r=xt(t,e),s=o!==r;return bt(t),vt(t,o,r,e),n=pt(t,null,e),bt(t),s&&(r=xt(t,e),o&&r&&o!==r&&lt(o,r,t,e)),o&&ot(o,e),(i=e.firstChild)&&"BR"!==i.nodeName?t.collapse(!0):(ot(e,e),t.selectNodeContents(e.firstChild)),n},gt=function(t,e,n){var i,o,r,s,a,l,c,d,h,u,p;for(rt(e,n),i=e;i=G(i,n);)ot(i,n);if(t.collapsed||ft(t,n),bt(t),t.collapse(!1),s=Y(t.endContainer,n,"BLOCKQUOTE")||n,o=_t(t,n),d=G(e,e),c=!!o&&V(o),o&&d&&!c&&!Y(d,e,"PRE")&&!Y(d,e,"TABLE")){if(vt(t,o,o,n),t.collapse(!0),a=t.endContainer,l=t.endOffset,Ht(o,n,!1),q(a)&&(a=(h=st(a,l,K(a,n),n)).parentNode,l=L.call(a.childNodes,h)),l!==J(a))for(r=n.ownerDocument.createDocumentFragment();i=a.childNodes[l];)r.appendChild(i);lt(a,d,t,n),l=L.call(a.parentNode.childNodes,a)+1,a=a.parentNode,t.setEnd(a,l)}J(e)&&(c&&(t.setEndBefore(o),t.collapse(!1),tt(o)),vt(t,s,s,n),u=(h=st(t.endContainer,t.endOffset,s,n))?h.previousSibling:s.lastChild,s.insertBefore(e,h),h?t.setEndBefore(h):t.setEnd(s,J(s)),o=xt(t,n),bt(t),a=t.endContainer,l=t.endOffset,h&&W(h)&&ct(h,n),(h=u&&u.nextSibling)&&W(h)&&ct(h,n),t.setEnd(a,l)),r&&(lt(o,r,p=t.cloneRange(),n),t.setEnd(p.endContainer,p.endOffset)),bt(t)},mt=function(t,e,n){var i=e.ownerDocument.createRange();if(i.selectNode(e),n){var o=t.compareBoundaryPoints(3,i)>-1,r=t.compareBoundaryPoints(1,i)<1;return!o&&!r}var s=t.compareBoundaryPoints(0,i)<1,a=t.compareBoundaryPoints(2,i)>-1;return s&&a},bt=function(t){for(var e,n=t.startContainer,i=t.startOffset,o=t.endContainer,s=t.endOffset,a=!0;n.nodeType!==r&&(e=n.childNodes[i])&&!z(e);)n=e,i=0;if(s)for(;o.nodeType!==r;){if(!(e=o.childNodes[s-1])||z(e)){if(a&&e&&"BR"===e.nodeName){s-=1,a=!1;continue}break}s=J(o=e)}else for(;o.nodeType!==r&&(e=o.firstChild)&&!z(e);)o=e;t.collapsed?(t.setStart(o,s),t.setEnd(n,i)):(t.setStart(n,i),t.setEnd(o,s))},vt=function(t,e,n,i){var o,s=t.startContainer,a=t.startOffset,l=t.endContainer,c=t.endOffset,d=!0;for(e||(e=t.commonAncestorContainer),n||(n=e);!a&&s!==e&&s!==i;)o=s.parentNode,a=L.call(o.childNodes,s),s=o;for(;d&&l.nodeType!==r&&l.childNodes[c]&&"BR"===l.childNodes[c].nodeName&&(c+=1,d=!1),l!==n&&l!==i&&c===J(l);)o=l.parentNode,c=L.call(o.childNodes,l)+1,l=o;t.setStart(s,a),t.setEnd(l,c)},_t=function(t,e){var n,i=t.startContainer;return(n=q(i)?K(i,e):i!==e&&H(i)?i:G(n=dt(i,t.startOffset),e))&&mt(t,n,!0)?n:null},xt=function(t,e){var n,i,o=t.endContainer;if(q(o))n=K(o,e);else if(o!==e&&H(o))n=o;else{if(!(n=ht(o,t.endOffset))||!X(e,n))for(n=e;i=n.lastChild;)n=i;n=K(n,e)}return n&&mt(t,n,!0)?n:null},yt=new O(null,4|l,(function(t){return t.nodeType===r?E.test(t.data):"IMG"===t.nodeName})),Ct=function(t,e){var n,i=t.startContainer,o=t.startOffset;if(yt.root=null,i.nodeType===r){if(o)return!1;n=i}else if((n=ht(i,o))&&!X(e,n)&&(n=null),!n&&(n=dt(i,o)).nodeType===r&&n.length)return!1;return yt.currentNode=n,yt.root=_t(t,e),!yt.previousNode()},St=function(t,e){var n,i=t.endContainer,o=t.endOffset;if(yt.root=null,i.nodeType===r){if((n=i.data.length)&&o<n)return!1;yt.currentNode=i}else yt.currentNode=dt(i,o);return yt.root=xt(t,e),!yt.nextNode()},Nt=function(t,e){var n,i=_t(t,e),o=xt(t,e);i&&o&&(n=i.parentNode,t.setStart(n,L.call(n.childNodes,i)),n=o.parentNode,t.setEnd(n,L.call(n.childNodes,o)+1))},wt={8:"backspace",9:"tab",13:"enter",32:"space",33:"pageup",34:"pagedown",37:"left",39:"right",46:"delete",219:"[",221:"]"},Tt=function(t){var e=t.keyCode,n=wt[e],i="",o=this.getSelection();t.defaultPrevented||(n||(n=String.fromCharCode(e).toLowerCase(),/^[A-Za-z0-9]$/.test(n)||(n="")),v&&46===t.which&&(n="."),111<e&&e<124&&(n="f"+(e-111)),"backspace"!==n&&"delete"!==n&&(t.altKey&&(i+="alt-"),t.ctrlKey&&(i+="ctrl-"),t.metaKey&&(i+="meta-")),t.shiftKey&&(i+="shift-"),n=i+n,this._keyHandlers[n]?this._keyHandlers[n](this,t,o):o.collapsed||t.isComposing||t.ctrlKey||t.metaKey||1!==(t.key||n).length||(this.saveUndoState(o),ft(o,this._root),this._ensureBottomLine(),this.setSelection(o),this._updatePath(o,!0)))},kt=function(t){return function(e,n){n.preventDefault(),e[t]()}},Et=function(t,e){return e=e||null,function(n,i){i.preventDefault();var o=n.getSelection();n.hasFormat(t,null,o)?n.changeFormat(null,{tag:t},o):n.changeFormat({tag:t},e,o)}},Lt=function(t,e){try{e||(e=t.getSelection());var n,i=e.startContainer;for(i.nodeType===r&&(i=i.parentNode),n=i;q(n)&&(!n.textContent||n.textContent===c);)n=(i=n).parentNode;i!==n&&(e.setStart(n,L.call(n.childNodes,i)),e.collapse(!0),n.removeChild(i),H(n)||(n=K(n,t._root)),ot(n,t._root),bt(e)),i===t._root&&(i=i.firstChild)&&"BR"===i.nodeName&&tt(i),t._ensureBottomLine(),t.setSelection(e),t._updatePath(e,!0)}catch(e){t.didError(e)}},Rt={enter:function(t,e,n){var i,s,a,l,d,h=t._root;if(e.preventDefault(),t._recordUndoState(n),pe(n.startContainer,h,t),t._removeZWS(),t._getRangeAndRemoveBookmark(n),n.collapsed||ft(n,h),(i=_t(n,h))&&(s=Y(i,h,"PRE")))return bt(n),a=n.startContainer,l=n.startOffset,a.nodeType!==r&&(a=t._doc.createTextNode(""),s.insertBefore(a,s.firstChild)),e.shiftKey||"\n"!==a.data.charAt(l-1)&&!Ct(n,h)||"\n"!==a.data.charAt(l)&&!St(n,h)?(a.insertData(l,"\n"),ot(s,h),a.length===l+1?n.setStartAfter(a):n.setStart(a,l+1)):(a.deleteData(l&&l-1,l?2:1),(a=(d=st(a,l&&l-1,h,h)).previousSibling).textContent||tt(a),a=t.createDefaultBlock(),d.parentNode.insertBefore(a,d),d.textContent||tt(d),n.setStart(a,0)),n.collapse(!0),t.setSelection(n),t._updatePath(n,!0),void t._docWasChanged();if(!i||e.shiftKey||/^T[HD]$/.test(i.nodeName))return(s=Y(n.endContainer,h,"A"))&&(s=s.parentNode,vt(n,s,s,h),n.collapse(!1)),ut(n,t.createElement("BR")),n.collapse(!1),t.setSelection(n),void t._updatePath(n,!0);if((s=Y(i,h,"LI"))&&(i=s),V(i)){if(Y(i,h,"UL")||Y(i,h,"OL"))return t.decreaseListLevel(n);if(Y(i,h,"BLOCKQUOTE"))return t.modifyBlocks(de,n)}for(d=le(t,i,n.startContainer,n.startOffset),re(i),zt(i),ot(i,h);d.nodeType===o;){var u,p=d.firstChild;if("A"===d.nodeName&&(!d.textContent||d.textContent===c)){et(d,p=t._doc.createTextNode("")),d=p;break}for(;p&&p.nodeType===r&&!p.data&&(u=p.nextSibling)&&"BR"!==u.nodeName;)tt(p),p=u;if(!p||"BR"===p.nodeName||p.nodeType===r&&!v)break;d=p}n=t.createRange(d,0),t.setSelection(n),t._updatePath(n,!0)},"shift-enter":function(t,e,n){return t._keyHandlers.enter(t,e,n)},backspace:function(t,e,n){var i=t._root;if(t._removeZWS(),t.saveUndoState(n),n.collapsed)if(Ct(n,i)){e.preventDefault();var o,r=_t(n,i);if(!r)return;if(rt(r.parentNode,i),o=K(r,i)){if(!o.isContentEditable)return void tt(o);for(lt(o,r,n,i),r=o.parentNode;r!==i&&!r.nextSibling;)r=r.parentNode;r!==i&&(r=r.nextSibling)&&ct(r,i),t.setSelection(n)}else if(r){if(Y(r,i,"UL")||Y(r,i,"OL"))return t.decreaseListLevel(n);if(Y(r,i,"BLOCKQUOTE"))return t.modifyBlocks(ce,n);t.setSelection(n),t._updatePath(n,!0)}}else t.setSelection(n),setTimeout((function(){Lt(t)}),0);else e.preventDefault(),ft(n,i),Lt(t,n)},delete:function(t,e,n){var i,r,s,a,l,c,d=t._root;if(t._removeZWS(),t.saveUndoState(n),n.collapsed)if(St(n,d)){if(e.preventDefault(),!(i=_t(n,d)))return;if(rt(i.parentNode,d),r=G(i,d)){if(!r.isContentEditable)return void tt(r);for(lt(i,r,n,d),r=i.parentNode;r!==d&&!r.nextSibling;)r=r.parentNode;r!==d&&(r=r.nextSibling)&&ct(r,d),t.setSelection(n),t._updatePath(n,!0)}}else{if(s=n.cloneRange(),vt(n,d,d,d),a=n.endContainer,l=n.endOffset,a.nodeType===o&&(c=a.childNodes[l])&&"IMG"===c.nodeName)return e.preventDefault(),tt(c),bt(n),void Lt(t,n);t.setSelection(s),setTimeout((function(){Lt(t)}),0)}else e.preventDefault(),ft(n,d),Lt(t,n)},tab:function(t,e,n){var i,o,r=t._root;if(t._removeZWS(),n.collapsed&&Ct(n,r))for(i=_t(n,r);o=i.parentNode;){if("UL"===o.nodeName||"OL"===o.nodeName){e.preventDefault(),t.increaseListLevel(n);break}i=o}},"shift-tab":function(t,e,n){var i,o=t._root;t._removeZWS(),n.collapsed&&Ct(n,o)&&(Y(i=n.startContainer,o,"UL")||Y(i,o,"OL"))&&(e.preventDefault(),t.decreaseListLevel(n))},space:function(t,e,n){var i,o=t._root;if(t._recordUndoState(n),pe(n.startContainer,o,t),t._getRangeAndRemoveBookmark(n),i=n.endContainer,n.collapsed&&n.endOffset===J(i))do{if("A"===i.nodeName){n.setStartAfter(i);break}}while(!i.nextSibling&&(i=i.parentNode)&&i!==o);n.collapsed||(ft(n,o),t._ensureBottomLine(),t.setSelection(n),t._updatePath(n,!0)),t.setSelection(n)},left:function(t){t._removeZWS()},right:function(t){t._removeZWS()}};f&&m&&(Rt["meta-left"]=function(t,e){e.preventDefault();var n=ee(t);n&&n.modify&&n.modify("move","backward","lineboundary")},Rt["meta-right"]=function(t,e){e.preventDefault();var n=ee(t);n&&n.modify&&n.modify("move","forward","lineboundary")}),f||(Rt.pageup=function(t){t.moveCursorToStart()},Rt.pagedown=function(t){t.moveCursorToEnd()}),Rt[C+"b"]=Et("B"),Rt[C+"i"]=Et("I"),Rt[C+"u"]=Et("U"),Rt[C+"shift-7"]=Et("S"),Rt[C+"shift-5"]=Et("SUB",{tag:"SUP"}),Rt[C+"shift-6"]=Et("SUP",{tag:"SUB"}),Rt[C+"shift-8"]=kt("makeUnorderedList"),Rt[C+"shift-9"]=kt("makeOrderedList"),Rt[C+"["]=kt("decreaseQuoteLevel"),Rt[C+"]"]=kt("increaseQuoteLevel"),Rt[C+"d"]=kt("toggleCode"),Rt[C+"y"]=kt("redo"),Rt[C+"z"]=kt("undo"),Rt[C+"shift-z"]=kt("redo");var At={1:10,2:13,3:16,4:18,5:24,6:32,7:48},Ot={backgroundColor:{regexp:E,replace:function(t,e,n){return it(t,"SPAN",{class:e.highlight,style:"background-color:"+n})}},color:{regexp:E,replace:function(t,e,n){return it(t,"SPAN",{class:e.colour,style:"color:"+n})}},fontWeight:{regexp:/^bold|^700/i,replace:function(t){return it(t,"B")}},fontStyle:{regexp:/^italic/i,replace:function(t){return it(t,"I")}},fontFamily:{regexp:E,replace:function(t,e,n){return it(t,"SPAN",{class:e.fontFamily,style:"font-family:"+n})}},fontSize:{regexp:E,replace:function(t,e,n){return it(t,"SPAN",{class:e.fontSize,style:"font-size:"+n})}},textDecoration:{regexp:/^underline/i,replace:function(t){return it(t,"U")}}},Dt=function(t){return function(e,n){var i=it(e.ownerDocument,t);return n.replaceChild(i,e),i.appendChild(nt(e)),i}},Bt=function(t,e,n){var i,o,r,s,a,l,c=t.style,d=t.ownerDocument;for(i in Ot)o=Ot[i],(r=c[i])&&o.regexp.test(r)&&(l=o.replace(d,n.classNames,r),a||(a=l),s&&s.appendChild(l),s=l,t.style[i]="");return a&&(s.appendChild(nt(t)),"SPAN"===t.nodeName?e.replaceChild(a,t):t.appendChild(a)),s||t},Pt={P:Bt,SPAN:Bt,STRONG:Dt("B"),EM:Dt("I"),INS:Dt("U"),STRIKE:Dt("S"),FONT:function(t,e,n){var i,o,r,s,a,l=t.face,c=t.size,d=t.color,h=t.ownerDocument,u=n.classNames;return l&&(a=i=it(h,"SPAN",{class:u.fontFamily,style:"font-family:"+l}),s=i),c&&(o=it(h,"SPAN",{class:u.fontSize,style:"font-size:"+At[c]+"px"}),a||(a=o),s&&s.appendChild(o),s=o),d&&/^#?([\dA-F]{3}){1,2}$/i.test(d)&&("#"!==d.charAt(0)&&(d="#"+d),r=it(h,"SPAN",{class:u.colour,style:"color:"+d}),a||(a=r),s&&s.appendChild(r),s=r),a||(a=s=it(h,"SPAN")),e.replaceChild(a,t),s.appendChild(nt(t)),s},TT:function(t,e,n){var i=it(t.ownerDocument,"SPAN",{class:n.classNames.fontFamily,style:'font-family:menlo,consolas,"courier new",monospace'});return e.replaceChild(i,t),i.appendChild(nt(t)),i}},Mt=/^(?:A(?:DDRESS|RTICLE|SIDE|UDIO)|BLOCKQUOTE|CAPTION|D(?:[DLT]|IV)|F(?:IGURE|IGCAPTION|OOTER)|H[1-6]|HEADER|L(?:ABEL|EGEND|I)|O(?:L|UTPUT)|P(?:RE)?|SECTION|T(?:ABLE|BODY|D|FOOT|H|HEAD|R)|COL(?:GROUP)?|UL)$/,It=/^(?:HEAD|META|STYLE)/,Ut=new O(null,4|l),Ft=function t(e,n,i){var s,a,l,c,d,h,u,p,f,g,m,b,v=e.childNodes;for(s=e;q(s);)s=s.parentNode;for(Ut.root=s,a=0,l=v.length;a<l;a+=1)if(d=(c=v[a]).nodeName,h=c.nodeType,u=Pt[d],h===o){if(p=c.childNodes.length,u)c=u(c,e,n);else{if(It.test(d)){e.removeChild(c),a-=1,l-=1;continue}if(!Mt.test(d)&&!q(c)){a-=1,l+=p-1,e.replaceChild(nt(c),c);continue}}p&&t(c,n,i||"PRE"===d)}else{if(h===r){if(m=c.data,f=!E.test(m.charAt(0)),g=!E.test(m.charAt(m.length-1)),i||!f&&!g)continue;if(f){for(Ut.currentNode=c;(b=Ut.previousPONode())&&!("IMG"===(d=b.nodeName)||"#text"===d&&E.test(b.data));)if(!q(b)){b=null;break}m=m.replace(/^[ \t\r\n]+/g,b?" ":"")}if(g){for(Ut.currentNode=c;(b=Ut.nextNode())&&!("IMG"===d||"#text"===d&&E.test(b.data));)if(!q(b)){b=null;break}m=m.replace(/[ \t\r\n]+$/g,b?" ":"")}if(m){c.data=m;continue}}e.removeChild(c),a-=1,l-=1}return e},zt=function t(e){for(var n,i=e.childNodes,s=i.length;s--;)(n=i[s]).nodeType!==o||z(n)?n.nodeType!==r||n.data||e.removeChild(n):(t(n),q(n)&&!n.firstChild&&e.removeChild(n))},$t=function(t){return t.nodeType===o?"BR"===t.nodeName:E.test(t.data)},qt=function(t,e){for(var n,i=t.parentNode;q(i);)i=i.parentNode;return(n=new O(i,4|l,$t)).currentNode=t,!!n.nextNode()||e&&!n.previousNode()},Ht=function(t,e,n){var i,o,r,s=t.querySelectorAll("BR"),a=[],l=s.length;for(i=0;i<l;i+=1)a[i]=qt(s[i],n);for(;l--;)(r=(o=s[l]).parentNode)&&(a[l]?q(r)||rt(r,e):tt(o))},Wt=function(t,e,n,i){var o,r,s=e.ownerDocument.body,a=i.willCutCopy;Ht(e,n,!0),e.setAttribute("style","position:fixed;overflow:hidden;bottom:100%;right:100%;"),s.appendChild(e),o=e.innerHTML,r=e.innerText||e.textContent,a&&(o=a(o)),g&&(r=r.replace(/\r?\n/g,"\r\n")),t.setData("text/html",o),t.setData("text/plain",r),s.removeChild(e)},jt=function(t){var e,n,i,o,s,a,l=t.clipboardData,c=this.getSelection(),d=this._root,h=this;if(c.collapsed)t.preventDefault();else{if(this.saveUndoState(c),_||p||!l)setTimeout((function(){try{h._ensureBottomLine()}catch(t){h.didError(t)}}),0);else{for(n=(e=_t(c,d))===xt(c,d)&&e||d,i=ft(c,d),(o=c.commonAncestorContainer).nodeType===r&&(o=o.parentNode);o&&o!==n;)(s=o.cloneNode(!1)).appendChild(i),i=s,o=o.parentNode;(a=this.createElement("div")).appendChild(i),Wt(l,a,d,this._config),t.preventDefault()}this.setSelection(c)}},Kt=function(t){var e,n,i,o,s,a,l=t.clipboardData,c=this.getSelection(),d=this._root;if(!_&&!p&&l){for(n=(e=_t(c,d))===xt(c,d)&&e||d,c=c.cloneRange(),bt(c),vt(c,n,n,d),i=c.cloneContents(),(o=c.commonAncestorContainer).nodeType===r&&(o=o.parentNode);o&&o!==n;)(s=o.cloneNode(!1)).appendChild(i),i=s,o=o.parentNode;(a=this.createElement("div")).appendChild(i),Wt(l,a,d,this._config),t.preventDefault()}};function Gt(t){this.isShiftDown=t.shiftKey}var Vt=function(t){var e,n,i,o,r,s=t.clipboardData,a=s&&s.items,l=this.isShiftDown,c=!1,d=!1,h=!1,u=null,p=null,f=this;if(a){for(e=a.length;e--;)"text/html"===(i=(n=a[e]).type)?p=n:"text/plain"===i||"text/uri-list"===i?u=n:"text/rtf"===i?d=!0:/^image\/.*/.test(i)&&(h=!0);if(h&&(!d||!p))return t.preventDefault(),this.fireEvent("dragover",{dataTransfer:s,preventDefault:function(){c=!0}}),void(c&&this.fireEvent("drop",{dataTransfer:s}));if(!_)return t.preventDefault(),void(!p||l&&u?u&&u.getAsString((function(t){f.insertPlainText(t,!0)})):p.getAsString((function(t){f.insertHTML(t,!0)})))}if(o=s&&s.types,!_&&o&&(L.call(o,"text/html")>-1||!m&&L.call(o,"text/plain")>-1&&L.call(o,"text/rtf")<0))return t.preventDefault(),void(!l&&(r=s.getData("text/html"))?this.insertHTML(r,!0):((r=s.getData("text/plain"))||(r=s.getData("text/uri-list")))&&this.insertPlainText(r,!0));this._awaitingPaste=!0;var g=this._doc.body,b=this.getSelection(),v=b.startContainer,x=b.startOffset,y=b.endContainer,C=b.endOffset,S=this.createElement("DIV",{contenteditable:"true",style:"position:fixed; overflow:hidden; top:0; right:100%; width:1px; height:1px;"});g.appendChild(S),b.selectNodeContents(S),this.setSelection(b),setTimeout((function(){try{f._awaitingPaste=!1;for(var t,e,n="",i=S;S=i;)i=S.nextSibling,tt(S),(t=S.firstChild)&&t===S.lastChild&&"DIV"===t.nodeName&&(S=t),n+=S.innerHTML;e=f.createRange(v,x,y,C),f.setSelection(e),n&&f.insertHTML(n,!0)}catch(t){f.didError(t)}}),0)},Zt=function(t){for(var e=t.dataTransfer.types,n=e.length,i=!1,o=!1;n--;)switch(e[n]){case"text/plain":i=!0;break;case"text/html":o=!0;break;default:return}(o||i)&&this.saveUndoState()};function Qt(t,e,n){var i,o;if(t||(t={}),e)for(i in e)!n&&i in t||(o=e[i],t[i]=o&&o.constructor===Object?Qt(t[i],o,n):o);return t}function Yt(t,e){t.nodeType===s&&(t=t.body);var n,i=t.ownerDocument,o=i.defaultView;this._win=o,this._doc=i,this._root=t,this._events={},this._isFocused=!1,this._lastSelection=null,w&&this.addEventListener("beforedeactivate",this.getSelection),this._hasZWS=!1,this._lastAnchorNode=null,this._lastFocusNode=null,this._path="",this._willUpdatePath=!1,"onselectionchange"in i?this.addEventListener("selectionchange",this._updatePathOnEvent):(this.addEventListener("keyup",this._updatePathOnEvent),this.addEventListener("mouseup",this._updatePathOnEvent)),this._undoIndex=-1,this._undoStack=[],this._undoStackLength=0,this._isInUndoState=!1,this._ignoreChange=!1,this._ignoreAllChanges=!1,T?((n=new MutationObserver(this._docWasChanged.bind(this))).observe(t,{childList:!0,attributes:!0,characterData:!0,subtree:!0}),this._mutation=n):this.addEventListener("keyup",this._keyUpDetectChange),this._restoreSelection=!1,this.addEventListener("blur",ne),this.addEventListener("mousedown",ie),this.addEventListener("touchstart",ie),this.addEventListener("focus",oe),this._awaitingPaste=!1,this.addEventListener(b?"beforecut":"cut",jt),this.addEventListener("copy",Kt),this.addEventListener("keydown",Gt),this.addEventListener("keyup",Gt),this.addEventListener(b?"beforepaste":"paste",Vt),this.addEventListener("drop",Zt),this.addEventListener(v?"keypress":"keydown",Tt),this._keyHandlers=Object.create(Rt),this.setConfig(e),b&&(o.Text.prototype.splitText=function(t){var e=this.ownerDocument.createTextNode(this.data.slice(t)),n=this.nextSibling,i=this.parentNode,o=this.length-t;return n?i.insertBefore(e,n):i.appendChild(e),o&&this.deleteData(t,o),e}),t.setAttribute("contenteditable","true");try{i.execCommand("enableObjectResizing",!1,"false"),i.execCommand("enableInlineTableEditing",!1,"false")}catch(t){}t.__squire__=this,this.setHTML("")}var Xt=Yt.prototype,Jt=function(t,e,n){var i=n._doc,o=t?DOMPurify.sanitize(t,{ALLOW_UNKNOWN_PROTOCOLS:!0,WHOLE_DOCUMENT:!1,RETURN_DOM:!0,RETURN_DOM_FRAGMENT:!0}):null;return o?i.importNode(o,!0):i.createDocumentFragment()};Xt.setConfig=function(t){return(t=Qt({blockTag:"DIV",blockAttributes:null,tagAttributes:{blockquote:null,ul:null,ol:null,li:null,a:null},classNames:{colour:"colour",fontFamily:"font",fontSize:"size",highlight:"highlight"},leafNodeNames:B,undo:{documentSizeThreshold:-1,undoLimit:-1},isInsertedHTMLSanitized:!0,isSetHTMLSanitized:!0,sanitizeToDOMFragment:"undefined"!=typeof DOMPurify&&DOMPurify.isSupported?Jt:null,willCutCopy:null},t,!0)).blockTag=t.blockTag.toUpperCase(),this._config=t,this},Xt.createElement=function(t,e,n){return it(this._doc,t,e,n)},Xt.createDefaultBlock=function(t){var e=this._config;return ot(this.createElement(e.blockTag,e.blockAttributes,t),this._root)},Xt.didError=function(t){console.log(t)},Xt.getDocument=function(){return this._doc},Xt.getRoot=function(){return this._root},Xt.modifyDocument=function(t){var e=this._mutation;e&&(e.takeRecords().length&&this._docWasChanged(),e.disconnect()),this._ignoreAllChanges=!0,t(),this._ignoreAllChanges=!1,e&&(e.observe(this._root,{childList:!0,attributes:!0,characterData:!0,subtree:!0}),this._ignoreChange=!1)};var te={pathChange:1,select:1,input:1,undoStateChange:1};Xt.fireEvent=function(t,e){var n,i,o,r=this._events[t];if(/^(?:focus|blur)/.test(t))if(n=this._root===this._doc.activeElement,"focus"===t){if(!n||this._isFocused)return this;this._isFocused=!0}else{if(n||!this._isFocused)return this;this._isFocused=!1}if(r)for(e||(e={}),e.type!==t&&(e.type=t),i=(r=r.slice()).length;i--;){o=r[i];try{o.handleEvent?o.handleEvent(e):o.call(this,e)}catch(e){e.details="Squire: fireEvent error. Event type: "+t,this.didError(e)}}return this},Xt.destroy=function(){var t,e=this._events;for(t in e)this.removeEventListener(t);this._mutation&&this._mutation.disconnect(),delete this._root.__squire__,this._undoIndex=-1,this._undoStack=[],this._undoStackLength=0},Xt.handleEvent=function(t){this.fireEvent(t.type,t)},Xt.addEventListener=function(t,e){var n=this._events[t],i=this._root;return e?(n||(n=this._events[t]=[],te[t]||("selectionchange"===t&&(i=this._doc),i.addEventListener(t,this,!0))),n.push(e),this):(this.didError({name:"Squire: addEventListener with null or undefined fn",message:"Event type: "+t}),this)},Xt.removeEventListener=function(t,e){var n,i=this._events[t],o=this._root;if(i){if(e)for(n=i.length;n--;)i[n]===e&&i.splice(n,1);else i.length=0;i.length||(delete this._events[t],te[t]||("selectionchange"===t&&(o=this._doc),o.removeEventListener(t,this,!0)))}return this},Xt.createRange=function(t,e,n,i){if(t instanceof this._win.Range)return t.cloneRange();var o=this._doc.createRange();return o.setStart(t,e),n?o.setEnd(n,i):o.setEnd(t,e),o},Xt.getCursorPosition=function(t){if(!t&&!(t=this.getSelection())||!t.getBoundingClientRect)return null;var e,n,i=t.getBoundingClientRect();return i&&!i.top&&(this._ignoreChange=!0,(e=this._doc.createElement("SPAN")).textContent=c,ut(t,e),i=e.getBoundingClientRect(),(n=e.parentNode).removeChild(e),at(n,t)),i},Xt._moveCursorTo=function(t){var e=this._root,n=this.createRange(e,t?0:e.childNodes.length);return bt(n),this.setSelection(n),this},Xt.moveCursorToStart=function(){return this._moveCursorTo(!0)},Xt.moveCursorToEnd=function(){return this._moveCursorTo(!1)};var ee=function(t){return t._win.getSelection()||null};function ne(){this._restoreSelection=!0}function ie(){this._restoreSelection=!1}function oe(){this._restoreSelection&&this.setSelection(this._lastSelection)}Xt.setSelection=function(t){if(t)if(this._lastSelection=t,this._isFocused)if(u&&!this._restoreSelection)ne.call(this),this.blur(),this.focus();else{p&&this._win.focus();var e=ee(this);e&&(e.removeAllRanges(),e.addRange(t))}else ne.call(this);return this},Xt.getSelection=function(){var t,e,n,i,o=ee(this),r=this._root;return this._isFocused&&o&&o.rangeCount&&(e=(t=o.getRangeAt(0).cloneRange()).startContainer,n=t.endContainer,e&&z(e)&&t.setStartBefore(e),n&&z(n)&&t.setEndBefore(n)),t&&X(r,t.commonAncestorContainer)?this._lastSelection=t:X((i=(t=this._lastSelection).commonAncestorContainer).ownerDocument,i)||(t=null),t||(t=this.createRange(r.firstChild,0)),t},Xt.getSelectedText=function(){var t=this.getSelection();if(!t||t.collapsed)return"";var e,n=new O(t.commonAncestorContainer,4|l,(function(e){return mt(t,e,!0)})),i=t.startContainer,o=t.endContainer,s=n.currentNode=i,a="",c=!1;for(n.filter(s)||(s=n.nextNode());s;)s.nodeType===r?(e=s.data)&&/\S/.test(e)&&(s===o&&(e=e.slice(0,t.endOffset)),s===i&&(e=e.slice(t.startOffset)),a+=e,c=!0):("BR"===s.nodeName||c&&!q(s))&&(a+="\n",c=!1),s=n.nextNode();return a},Xt.getPath=function(){return this._path};var re=function(t,e){for(var n,i,o,r=new O(t,4);i=r.nextNode();)for(;(o=i.data.indexOf(c))>-1&&(!e||i.parentNode!==e);){if(1===i.length){do{(n=i.parentNode).removeChild(i),i=n,r.currentNode=n}while(q(i)&&!J(i));break}i.deleteData(o,1)}};Xt._didAddZWS=function(){this._hasZWS=!0},Xt._removeZWS=function(){this._hasZWS&&(re(this._root),this._hasZWS=!1)},Xt._updatePath=function(t,e){if(t){var n,i=t.startContainer,r=t.endContainer;(e||i!==this._lastAnchorNode||r!==this._lastFocusNode)&&(this._lastAnchorNode=i,this._lastFocusNode=r,n=i&&r?i===r?function t(e,n,i){var r,s,a,l,c,d="";return e&&e!==n&&(d=t(e.parentNode,n,i),e.nodeType===o&&(d+=(d?">":"")+e.nodeName,(r=e.id)&&(d+="#"+r),(s=e.className.trim())&&((a=s.split(/\s\s*/)).sort(),d+=".",d+=a.join(".")),(l=e.dir)&&(d+="[dir="+l+"]"),a&&(c=i.classNames,L.call(a,c.highlight)>-1&&(d+="[backgroundColor="+e.style.backgroundColor.replace(/ /g,"")+"]"),L.call(a,c.colour)>-1&&(d+="[color="+e.style.color.replace(/ /g,"")+"]"),L.call(a,c.fontFamily)>-1&&(d+="[fontFamily="+e.style.fontFamily.replace(/ /g,"")+"]"),L.call(a,c.fontSize)>-1&&(d+="[fontSize="+e.style.fontSize+"]")))),d}(r,this._root,this._config):"(selection)":"",this._path!==n&&(this._path=n,this.fireEvent("pathChange",{path:n}))),this.fireEvent(t.collapsed?"cursor":"select",{range:t})}},Xt._updatePathOnEvent=function(t){var e=this;e._isFocused&&!e._willUpdatePath&&(e._willUpdatePath=!0,setTimeout((function(){e._willUpdatePath=!1,e._updatePath(e.getSelection())}),0))},Xt.focus=function(){return this._root.focus({preventScroll:!0}),y&&this.fireEvent("focus"),this},Xt.blur=function(){return this._root.blur(),y&&this.fireEvent("blur"),this};var se="squire-selection-end";Xt._saveRangeToBookmark=function(t){var e,n=this.createElement("INPUT",{id:"squire-selection-start",type:"hidden"}),i=this.createElement("INPUT",{id:se,type:"hidden"});ut(t,n),t.collapse(!1),ut(t,i),2&n.compareDocumentPosition(i)&&(n.id=se,i.id="squire-selection-start",e=n,n=i,i=e),t.setStartAfter(n),t.setEndBefore(i)},Xt._getRangeAndRemoveBookmark=function(t){var e=this._root,n=e.querySelector("#squire-selection-start"),i=e.querySelector("#"+se);if(n&&i){var o=n.parentNode,s=i.parentNode,a=L.call(o.childNodes,n),l=L.call(s.childNodes,i);o===s&&(l-=1),tt(n),tt(i),t||(t=this._doc.createRange()),t.setStart(o,a),t.setEnd(s,l),at(o,t),o!==s&&at(s,t),t.collapsed&&(o=t.startContainer).nodeType===r&&((s=o.childNodes[t.startOffset])&&s.nodeType===r||(s=o.childNodes[t.startOffset-1]),s&&s.nodeType===r&&(t.setStart(s,0),t.collapse(!0)))}return t||null},Xt._keyUpDetectChange=function(t){var e=t.keyCode;t.ctrlKey||t.metaKey||t.altKey||!(e<16||e>20)||!(e<33||e>45)||this._docWasChanged()},Xt._docWasChanged=function(){k&&(F=new WeakMap),this._ignoreAllChanges||(T&&this._ignoreChange?this._ignoreChange=!1:(this._isInUndoState&&(this._isInUndoState=!1,this.fireEvent("undoStateChange",{canUndo:!0,canRedo:!1})),this.fireEvent("input")))},Xt._recordUndoState=function(t,e){if(!this._isInUndoState||e){var n,i=this._undoIndex,o=this._undoStack,r=this._config.undo,s=r.documentSizeThreshold,a=r.undoLimit;e||(i+=1),i<this._undoStackLength&&(o.length=this._undoStackLength=i),t&&this._saveRangeToBookmark(t),n=this._getHTML(),s>-1&&2*n.length>s&&a>-1&&i>a&&(o.splice(0,i-a),i=a,this._undoStackLength=a),o[i]=n,this._undoIndex=i,this._undoStackLength+=1,this._isInUndoState=!0}},Xt.saveUndoState=function(t){return t===i&&(t=this.getSelection()),this._recordUndoState(t,this._isInUndoState),this._getRangeAndRemoveBookmark(t),this},Xt.undo=function(){if(0!==this._undoIndex||!this._isInUndoState){this._recordUndoState(this.getSelection(),!1),this._undoIndex-=1,this._setHTML(this._undoStack[this._undoIndex]);var t=this._getRangeAndRemoveBookmark();t&&this.setSelection(t),this._isInUndoState=!0,this.fireEvent("undoStateChange",{canUndo:0!==this._undoIndex,canRedo:!0}),this.fireEvent("input")}return this},Xt.redo=function(){var t=this._undoIndex,e=this._undoStackLength;if(t+1<e&&this._isInUndoState){this._undoIndex+=1,this._setHTML(this._undoStack[this._undoIndex]);var n=this._getRangeAndRemoveBookmark();n&&this.setSelection(n),this.fireEvent("undoStateChange",{canUndo:!0,canRedo:t+2<e}),this.fireEvent("input")}return this},Xt.hasFormat=function(t,e,n){if(t=t.toUpperCase(),e||(e={}),!n&&!(n=this.getSelection()))return!1;!n.collapsed&&n.startContainer.nodeType===r&&n.startOffset===n.startContainer.length&&n.startContainer.nextSibling&&n.setStartBefore(n.startContainer.nextSibling),!n.collapsed&&n.endContainer.nodeType===r&&0===n.endOffset&&n.endContainer.previousSibling&&n.setEndAfter(n.endContainer.previousSibling);var i,o,s=this._root,a=n.commonAncestorContainer;if(Y(a,s,t,e))return!0;if(a.nodeType===r)return!1;i=new O(a,4,(function(t){return mt(n,t,!0)}));for(var l=!1;o=i.nextNode();){if(!Y(o,s,t,e))return!1;l=!0}return l},Xt.getFontInfo=function(t){var e,n,o,s={color:i,backgroundColor:i,family:i,size:i},a=0;if(!t&&!(t=this.getSelection()))return s;if(e=t.commonAncestorContainer,t.collapsed||e.nodeType===r)for(e.nodeType===r&&(e=e.parentNode);a<4&&e;)(n=e.style)&&(!s.color&&(o=n.color)&&(s.color=o,a+=1),!s.backgroundColor&&(o=n.backgroundColor)&&(s.backgroundColor=o,a+=1),!s.family&&(o=n.fontFamily)&&(s.family=o,a+=1),!s.size&&(o=n.fontSize)&&(s.size=o,a+=1)),e=e.parentNode;return s},Xt._addFormat=function(t,e,n){var i,o,s,a,c,d,h,u,p=this._root;if(n.collapsed){for(i=ot(this.createElement(t,e),p),ut(n,i),n.setStart(i.firstChild,i.firstChild.length),n.collapse(!0),u=i;q(u);)u=u.parentNode;re(u,i)}else{if(o=new O(n.commonAncestorContainer,4|l,(function(t){return(t.nodeType===r||"BR"===t.nodeName||"IMG"===t.nodeName)&&mt(n,t,!0)})),s=n.startContainer,c=n.startOffset,a=n.endContainer,d=n.endOffset,o.currentNode=s,o.filter(s)||(s=o.nextNode(),c=0),!s)return n;do{!Y(h=o.currentNode,p,t,e)&&(h===a&&h.length>d&&h.splitText(d),h===s&&c&&(h=h.splitText(c),a===s&&(a=h,d-=c),s=h,c=0),et(h,i=this.createElement(t,e)),i.appendChild(h))}while(o.nextNode());a.nodeType!==r&&(h.nodeType===r?(a=h,d=h.length):(a=h.parentNode,d=1)),n=this.createRange(s,c,a,d)}return n},Xt._removeFormat=function(t,e,n,i){this._saveRangeToBookmark(n);var o,s=this._doc;n.collapsed&&(N?(o=s.createTextNode(c),this._didAddZWS()):o=s.createTextNode(""),ut(n,o));for(var a=n.commonAncestorContainer;q(a);)a=a.parentNode;var l=n.startContainer,d=n.startOffset,h=n.endContainer,u=n.endOffset,p=[],f=function(t,e){if(!mt(n,t,!1)){var i,o,s=t.nodeType===r;if(mt(n,t,!0))if(s)t===h&&u!==t.length&&p.push([e,t.splitText(u)]),t===l&&d&&(t.splitText(d),p.push([e,t]));else for(i=t.firstChild;i;i=o)o=i.nextSibling,f(i,e);else"INPUT"===t.nodeName||s&&!t.data||p.push([e,t])}},g=Array.prototype.filter.call(a.getElementsByTagName(t),(function(i){return mt(n,i,!0)&&Q(i,t,e)}));return i||g.forEach((function(t){f(t,t)})),p.forEach((function(t){var e=t[0].cloneNode(!1),n=t[1];et(n,e),e.appendChild(n)})),g.forEach((function(t){et(t,nt(t))})),this._getRangeAndRemoveBookmark(n),o&&n.collapse(!1),at(a,n),n},Xt.changeFormat=function(t,e,n,i){return n||(n=this.getSelection())?(this.saveUndoState(n),e&&(n=this._removeFormat(e.tag.toUpperCase(),e.attributes||{},n,i)),t&&(n=this._addFormat(t.tag.toUpperCase(),t.attributes||{},n)),this.setSelection(n),this._updatePath(n,!0),T||this._docWasChanged(),this):this};var ae={DT:"DD",DD:"DT",LI:"LI",PRE:"PRE"},le=function(t,e,n,i){var o=ae[e.nodeName],r=null,s=st(n,i,e.parentNode,t._root),a=t._config;return o||(o=a.blockTag,r=a.blockAttributes),Q(s,o,r)||(e=it(s.ownerDocument,o,r),s.dir&&(e.dir=s.dir),et(s,e),e.appendChild(nt(s)),s=e),s};Xt.forEachBlock=function(t,e,n){if(!n&&!(n=this.getSelection()))return this;e&&this.saveUndoState(n);var i=this._root,o=_t(n,i),r=xt(n,i);if(o&&r)do{if(t(o)||o===r)break}while(o=G(o,i));return e&&(this.setSelection(n),this._updatePath(n,!0),T||this._docWasChanged()),this},Xt.modifyBlocks=function(t,e){if(!e&&!(e=this.getSelection()))return this;this._recordUndoState(e,this._isInUndoState);var n,i=this._root;return Nt(e,i),vt(e,i,i,i),n=pt(e,i,i),ut(e,t.call(this,n)),e.endOffset<e.endContainer.childNodes.length&&ct(e.endContainer.childNodes[e.endOffset],i),ct(e.startContainer.childNodes[e.startOffset],i),this._getRangeAndRemoveBookmark(e),this.setSelection(e),this._updatePath(e,!0),T||this._docWasChanged(),this};var ce=function(t){var e=this._root,n=t.querySelectorAll("blockquote");return Array.prototype.filter.call(n,(function(t){return!Y(t.parentNode,e,"BLOCKQUOTE")})).forEach((function(t){et(t,nt(t))})),t},de=function(){return this.createDefaultBlock([this.createElement("INPUT",{id:"squire-selection-start",type:"hidden"}),this.createElement("INPUT",{id:se,type:"hidden"})])},he=function(t,e,n){for(var i,o,r,s,a=j(e,t._root),l=t._config.tagAttributes,c=l[n.toLowerCase()],d=l.li;i=a.nextNode();)"LI"===i.parentNode.nodeName&&(i=i.parentNode,a.currentNode=i.lastChild),"LI"!==i.nodeName?(s=t.createElement("LI",d),i.dir&&(s.dir=i.dir),(r=i.previousSibling)&&r.nodeName===n?(r.appendChild(s),tt(i)):et(i,t.createElement(n,c,[s])),s.appendChild(nt(i)),a.currentNode=s):(o=(i=i.parentNode).nodeName)!==n&&/^[OU]L$/.test(o)&&et(i,t.createElement(n,c,[nt(i)]))},ue=function(t,e){for(var n=t.commonAncestorContainer,i=t.startContainer,o=t.endContainer;n&&n!==e&&!/^[OU]L$/.test(n.nodeName);)n=n.parentNode;if(!n||n===e)return null;for(i===n&&(i=i.childNodes[t.startOffset]),o===n&&(o=o.childNodes[t.endOffset]);i&&i.parentNode!==n;)i=i.parentNode;for(;o&&o.parentNode!==n;)o=o.parentNode;return[n,i,o]};Xt.increaseListLevel=function(t){if(!t&&!(t=this.getSelection()))return this.focus();var e=this._root,n=ue(t,e);if(!n)return this.focus();var i=n[0],o=n[1],r=n[2];if(!o||o===i.firstChild)return this.focus();this._recordUndoState(t,this._isInUndoState);var s,a,l=i.nodeName,c=o.previousSibling;c.nodeName!==l&&(s=this._config.tagAttributes[l.toLowerCase()],c=this.createElement(l,s),i.insertBefore(c,o));do{a=o===r?null:o.nextSibling,c.appendChild(o)}while(o=a);return(a=c.nextSibling)&&ct(a,e),this._getRangeAndRemoveBookmark(t),this.setSelection(t),this._updatePath(t,!0),T||this._docWasChanged(),this.focus()},Xt.decreaseListLevel=function(t){if(!t&&!(t=this.getSelection()))return this.focus();var e=this._root,n=ue(t,e);if(!n)return this.focus();var i,o,r,s,a=n[0],l=n[1],c=n[2];if(l||(l=a.firstChild),c||(c=a.lastChild),this._recordUndoState(t,this._isInUndoState),l){if(i=a.parentNode,r=c.nextSibling?st(a,c.nextSibling,i,e):a.nextSibling,i!==e&&"LI"===i.nodeName){for(i=i.parentNode;r;)o=r.nextSibling,c.appendChild(r),r=o;r=a.parentNode.nextSibling}s=!/^[OU]L$/.test(i.nodeName);do{o=l===c?null:l.nextSibling,a.removeChild(l),s&&"LI"===l.nodeName&&(l=this.createDefaultBlock([nt(l)])),i.insertBefore(l,r)}while(l=o)}return a.firstChild||tt(a),r&&ct(r,e),this._getRangeAndRemoveBookmark(t),this.setSelection(t),this._updatePath(t,!0),T||this._docWasChanged(),this.focus()},Xt._ensureBottomLine=function(){var t=this._root,e=t.lastElementChild;e&&e.nodeName===this._config.blockTag&&H(e)||t.appendChild(this.createDefaultBlock())},Xt.setKeyHandler=function(t,e){return this._keyHandlers[t]=e,this},Xt._getHTML=function(){return this._root.innerHTML},Xt._setHTML=function(t){var e=this._root,n=e;n.innerHTML=t;do{ot(n,e)}while(n=G(n,e));this._ignoreChange=!0},Xt.getHTML=function(t){var e,n,i,o,r,s,a=[];if(t&&(s=this.getSelection())&&this._saveRangeToBookmark(s),S)for(n=e=this._root;n=G(n,e);)n.textContent||n.querySelector("BR")||(i=this.createElement("BR"),n.appendChild(i),a.push(i));if(o=this._getHTML().replace(/\u200B/g,""),S)for(r=a.length;r--;)tt(a[r]);return s&&this._getRangeAndRemoveBookmark(s),o},Xt.setHTML=function(t){var e,n,i,o=this._config,r=o.isSetHTMLSanitized?o.sanitizeToDOMFragment:null,s=this._root;"function"==typeof r?n=r(t,!1,this):((e=this.createElement("DIV")).innerHTML=t,(n=this._doc.createDocumentFragment()).appendChild(nt(e))),Ft(n,o),Ht(n,s,!1),rt(n,s);for(var a=n;a=G(a,s);)ot(a,s);for(this._ignoreChange=!0;i=s.lastChild;)s.removeChild(i);s.appendChild(n),ot(s,s),this._undoIndex=-1,this._undoStack.length=0,this._undoStackLength=0,this._isInUndoState=!1;var l=this._getRangeAndRemoveBookmark()||this.createRange(s.firstChild,0);return this.saveUndoState(l),this._lastSelection=l,ne.call(this),this._updatePath(l,!0),this},Xt.insertElement=function(t,e){if(e||(e=this.getSelection()),e.collapse(!0),q(t))ut(e,t),e.setStartAfter(t);else{for(var n,i=this._root,o=_t(e,i)||i;o!==i&&!o.nextSibling;)o=o.parentNode;o!==i&&(n=st(o.parentNode,o.nextSibling,i,i)),n?i.insertBefore(t,n):(i.appendChild(t),n=this.createDefaultBlock(),i.appendChild(n)),e.setStart(n,0),e.setEnd(n,0),bt(e)}return this.focus(),this.setSelection(e),this._updatePath(e),T||this._docWasChanged(),this},Xt.insertImage=function(t,e){var n=this.createElement("IMG",Qt({src:t},e,!0));return this.insertElement(n),n},Xt.linkRegExp=/\b((?:(?:ht|f)tps?:\/\/|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,}\/)(?:[^\s()<>]+|\([^\s()<>]+\))+(?:\((?:[^\s()<>]+|(?:\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'".,<>?«»“”‘’]))|([\w\-.%+]+@(?:[\w\-]+\.)+[A-Z]{2,}\b)(?:\?[^&?\s]+=[^&?\s]+(?:&[^&?\s]+=[^&?\s]+)*)?/i;var pe=function(t,e,n){var i,o,r,s,a,l,c,d=t.ownerDocument,h=new O(t,4,(function(t){return!Y(t,e,"A")})),u=n.linkRegExp,p=n._config.tagAttributes.a;if(u)for(;i=h.nextNode();)for(o=i.data,r=i.parentNode;s=u.exec(o);)l=(a=s.index)+s[0].length,a&&(c=d.createTextNode(o.slice(0,a)),r.insertBefore(c,i)),(c=n.createElement("A",Qt({href:s[1]?/^(?:ht|f)tps?:/i.test(s[1])?s[1]:"http://"+s[1]:"mailto:"+s[0]},p,!1))).textContent=o.slice(a,l),r.insertBefore(c,i),i.data=o=o.slice(l)};Xt.insertHTML=function(t,e){var n,i,o,r,s,a,l,c=this._config,d=c.isInsertedHTMLSanitized?c.sanitizeToDOMFragment:null,h=this.getSelection(),u=this._doc;"function"==typeof d?r=d(t,e,this):(e&&(n=t.indexOf("\x3c!--StartFragment--\x3e"),i=t.lastIndexOf("\x3c!--EndFragment--\x3e"),n>-1&&i>-1&&(t=t.slice(n+20,i))),/<\/td>((?!<\/tr>)[\s\S])*$/i.test(t)&&(t="<TR>"+t+"</TR>"),/<\/tr>((?!<\/table>)[\s\S])*$/i.test(t)&&(t="<TABLE>"+t+"</TABLE>"),(o=this.createElement("DIV")).innerHTML=t,(r=u.createDocumentFragment()).appendChild(nt(o))),this.saveUndoState(h);try{for(s=this._root,a=r,l={fragment:r,preventDefault:function(){this.defaultPrevented=!0},defaultPrevented:!1},pe(r,r,this),Ft(r,c),Ht(r,s,!1),zt(r),r.normalize();a=G(a,r);)ot(a,s);e&&this.fireEvent("willPaste",l),l.defaultPrevented||(gt(h,l.fragment,s),T||this._docWasChanged(),h.collapse(!1),this._ensureBottomLine()),this.setSelection(h),this._updatePath(h,!0),e&&this.focus()}catch(t){this.didError(t)}return this};var fe=function(t){return t.split("&").join("&amp;").split("<").join("&lt;").split(">").join("&gt;").split('"').join("&quot;")};Xt.insertPlainText=function(t,e){var n=this.getSelection();if(n.collapsed&&Y(n.startContainer,this._root,"PRE")){var i,o,s=n.startContainer,a=n.startOffset;return s&&s.nodeType===r||(i=this._doc.createTextNode(""),s.insertBefore(i,s.childNodes[a]),s=i,a=0),o={text:t,preventDefault:function(){this.defaultPrevented=!0},defaultPrevented:!1},e&&this.fireEvent("willPaste",o),o.defaultPrevented||(t=o.text,s.insertData(a,t),n.setStart(s,a+t.length),n.collapse(!0)),this.setSelection(n),this}var l,c,d,h,u=t.split("\n"),p=this._config,f=p.blockTag,g=p.blockAttributes,m="</"+f+">",b="<"+f;for(l in g)b+=" "+l+'="'+fe(g[l])+'"';for(b+=">",c=0,d=u.length;c<d;c+=1)h=u[c],h=fe(h).replace(/ (?= )/g,"&nbsp;"),u[c]=b+(h||"<BR>")+m;return this.insertHTML(u.join(""),e)};var ge=function(t,e,n){return function(){return this[t](e,n),this.focus()}};Xt.addStyles=function(t){if(t){var e=this._doc.documentElement.firstChild,n=this.createElement("STYLE",{type:"text/css"});n.appendChild(this._doc.createTextNode(t)),e.appendChild(n)}return this},Xt.bold=ge("changeFormat",{tag:"B"}),Xt.italic=ge("changeFormat",{tag:"I"}),Xt.underline=ge("changeFormat",{tag:"U"}),Xt.strikethrough=ge("changeFormat",{tag:"S"}),Xt.subscript=ge("changeFormat",{tag:"SUB"},{tag:"SUP"}),Xt.superscript=ge("changeFormat",{tag:"SUP"},{tag:"SUB"}),Xt.removeBold=ge("changeFormat",null,{tag:"B"}),Xt.removeItalic=ge("changeFormat",null,{tag:"I"}),Xt.removeUnderline=ge("changeFormat",null,{tag:"U"}),Xt.removeStrikethrough=ge("changeFormat",null,{tag:"S"}),Xt.removeSubscript=ge("changeFormat",null,{tag:"SUB"}),Xt.removeSuperscript=ge("changeFormat",null,{tag:"SUP"}),Xt.makeLink=function(t,e){var n=this.getSelection();if(n.collapsed){var i=t.indexOf(":")+1;if(i)for(;"/"===t[i];)i+=1;ut(n,this._doc.createTextNode(t.slice(i)))}return e=Qt(Qt({href:t},e,!0),this._config.tagAttributes.a,!1),this.changeFormat({tag:"A",attributes:e},{tag:"A"},n),this.focus()},Xt.removeLink=function(){return this.changeFormat(null,{tag:"A"},this.getSelection(),!0),this.focus()},Xt.setFontFace=function(t){var e=this._config.classNames.fontFamily;return this.changeFormat(t?{tag:"SPAN",attributes:{class:e,style:"font-family: "+t+", sans-serif;"}}:null,{tag:"SPAN",attributes:{class:e}}),this.focus()},Xt.setFontSize=function(t){var e=this._config.classNames.fontSize;return this.changeFormat(t?{tag:"SPAN",attributes:{class:e,style:"font-size: "+("number"==typeof t?t+"px":t)}}:null,{tag:"SPAN",attributes:{class:e}}),this.focus()},Xt.setTextColour=function(t){var e=this._config.classNames.colour;return this.changeFormat(t?{tag:"SPAN",attributes:{class:e,style:"color:"+t}}:null,{tag:"SPAN",attributes:{class:e}}),this.focus()},Xt.setHighlightColour=function(t){var e=this._config.classNames.highlight;return this.changeFormat(t?{tag:"SPAN",attributes:{class:e,style:"background-color:"+t}}:t,{tag:"SPAN",attributes:{class:e}}),this.focus()},Xt.setTextAlignment=function(t){return this.forEachBlock((function(e){var n=e.className.split(/\s+/).filter((function(t){return!!t&&!/^align/.test(t)})).join(" ");t?(e.className=n+" align-"+t,e.style.textAlign=t):(e.className=n,e.style.textAlign="")}),!0),this.focus()},Xt.setTextDirection=function(t){return this.forEachBlock((function(e){t?e.dir=t:e.removeAttribute("dir")}),!0),this.focus()};var me=function(t){for(var e,n=this._root,i=this._doc,o=i.createDocumentFragment(),r=j(t,n);e=r.nextNode();){var s,a,l=e.querySelectorAll("BR"),c=[],d=l.length;for(s=0;s<d;s+=1)c[s]=qt(l[s],!1);for(;d--;)a=l[d],c[d]?et(a,i.createTextNode("\n")):tt(a);for(d=(l=e.querySelectorAll("CODE")).length;d--;)tt(l[d]);o.childNodes.length&&o.appendChild(i.createTextNode("\n")),o.appendChild(nt(e))}for(r=new O(o,4);e=r.nextNode();)e.data=e.data.replace(/ /g," ");return o.normalize(),ot(this.createElement("PRE",this._config.tagAttributes.pre,[o]),n)},be=function(t){for(var e,n,i,o,r,s,a=this._doc,l=this._root,c=t.querySelectorAll("PRE"),d=c.length;d--;){for(n=new O(e=c[d],4);i=n.nextNode();){for(o=(o=i.data).replace(/ (?= )/g," "),r=a.createDocumentFragment();(s=o.indexOf("\n"))>-1;)r.appendChild(a.createTextNode(o.slice(0,s))),r.appendChild(a.createElement("BR")),o=o.slice(s+1);i.parentNode.insertBefore(r,i),i.data=o}rt(e,l),et(e,nt(e))}return t};Xt.code=function(){var t=this.getSelection();return t.collapsed||W(t.commonAncestorContainer)?this.modifyBlocks(me,t):this.changeFormat({tag:"CODE",attributes:this._config.tagAttributes.code},null,t),this.focus()},Xt.removeCode=function(){var t=this.getSelection();return Y(t.commonAncestorContainer,this._root,"PRE")?this.modifyBlocks(be,t):this.changeFormat(null,{tag:"CODE"},t),this.focus()},Xt.toggleCode=function(){return this.hasFormat("PRE")||this.hasFormat("CODE")?this.removeCode():this.code(),this},Xt.removeAllFormatting=function(t){if(!t&&!(t=this.getSelection())||t.collapsed)return this;for(var e=this._root,n=t.commonAncestorContainer;n&&!H(n);)n=n.parentNode;if(n||(Nt(t,e),n=e),n.nodeType===r)return this;this.saveUndoState(t),vt(t,n,n,e);for(var i,o,s=n.ownerDocument,a=t.startContainer,l=t.startOffset,c=t.endContainer,d=t.endOffset,h=s.createDocumentFragment(),u=s.createDocumentFragment(),p=st(c,d,n,e),f=st(a,l,n,e);f!==p;)i=f.nextSibling,h.appendChild(f),f=i;return function t(e,n,i){var o,s;for(o=n.firstChild;o;o=s){if(s=o.nextSibling,q(o)){if(o.nodeType===r||"BR"===o.nodeName||"IMG"===o.nodeName){i.appendChild(o);continue}}else if(H(o)){i.appendChild(e.createDefaultBlock([t(e,o,e._doc.createDocumentFragment())]));continue}t(e,o,i)}return i}(this,h,u),u.normalize(),f=u.firstChild,i=u.lastChild,o=n.childNodes,f?(n.insertBefore(u,p),l=L.call(o,f),d=L.call(o,i)+1):d=l=L.call(o,p),t.setStart(n,l),t.setEnd(n,d),at(n,t),bt(t),this.setSelection(t),this._updatePath(t,!0),this.focus()},Xt.increaseQuoteLevel=ge("modifyBlocks",(function(t){return this.createElement("BLOCKQUOTE",this._config.tagAttributes.blockquote,[t])})),Xt.decreaseQuoteLevel=ge("modifyBlocks",ce),Xt.makeUnorderedList=ge("modifyBlocks",(function(t){return he(this,t,"UL"),t})),Xt.makeOrderedList=ge("modifyBlocks",(function(t){return he(this,t,"OL"),t})),Xt.removeList=ge("modifyBlocks",(function(t){var e,n,i,o,r,s=t.querySelectorAll("UL, OL"),a=t.querySelectorAll("LI"),l=this._root;for(e=0,n=s.length;e<n;e+=1)rt(o=nt(i=s[e]),l),et(i,o);for(e=0,n=a.length;e<n;e+=1)H(r=a[e])?et(r,this.createDefaultBlock([nt(r)])):(rt(r,l),et(r,nt(r)));return t})),Yt.isInline=q,Yt.isBlock=H,Yt.isContainer=W,Yt.getBlockWalker=j,Yt.getPreviousBlock=K,Yt.getNextBlock=G,Yt.areAlike=Z,Yt.hasTagAttributes=Q,Yt.getNearest=Y,Yt.isOrContains=X,Yt.detach=tt,Yt.replaceWith=et,Yt.empty=nt,Yt.getNodeBefore=dt,Yt.getNodeAfter=ht,Yt.insertNodeInRange=ut,Yt.extractContentsOfRange=pt,Yt.deleteContentsOfRange=ft,Yt.insertTreeFragmentIntoRange=gt,Yt.isNodeContainedInRange=mt,Yt.moveRangeBoundariesDownTree=bt,Yt.moveRangeBoundariesUpTree=vt,Yt.getStartBlockOfRange=_t,Yt.getEndBlockOfRange=xt,Yt.contentWalker=yt,Yt.rangeDoesStartAtBlockBoundary=Ct,Yt.rangeDoesEndAtBlockBoundary=St,Yt.expandRangeToBlockBoundaries=Nt,Yt.onPaste=Vt,Yt.addLinks=pe,Yt.splitBlock=le,Yt.startSelectionId="squire-selection-start",Yt.endSelectionId=se,"object"==typeof exports?t.exports=Yt:"function"==typeof define&&n(140)?define((function(){return Yt})):(d.Squire=Yt,top!==d&&"true"===e.documentElement.getAttribute("data-squireinit")&&(d.editor=new Yt(e),d.onEditorLoad&&(d.onEditorLoad(d.editor),d.onEditorLoad=null)))}(document)}).call(this,n(139)(t))},357:function(t,e,n){"use strict";(function(t){var e;e=function(t){function e(t){var e=t.parent();t.removeData("minicolors-initialized").removeData("minicolors-settings").removeProp("size").removeClass("minicolors-input"),e.before(t).remove()}function n(t){var e=t.parent(),n=e.find(".minicolors-panel"),o=t.data("minicolors-settings");!t.data("minicolors-initialized")||t.prop("disabled")||e.hasClass("minicolors-inline")||e.hasClass("minicolors-focus")||(i(),e.addClass("minicolors-focus"),n.animate?n.stop(!0,!0).fadeIn(o.showSpeed,(function(){o.show&&o.show.call(t.get(0))})):(n.show(),o.show&&o.show.call(t.get(0))))}function i(){t(".minicolors-focus").each((function(){var e=t(this),n=e.find(".minicolors-input"),i=e.find(".minicolors-panel"),o=n.data("minicolors-settings");i.animate?i.fadeOut(o.hideSpeed,(function(){o.hide&&o.hide.call(n.get(0)),e.removeClass("minicolors-focus")})):(i.hide(),o.hide&&o.hide.call(n.get(0)),e.removeClass("minicolors-focus"))}))}function o(t,e,n){var i,o,s,a,l,c=t.parents(".minicolors").find(".minicolors-input"),d=c.data("minicolors-settings"),h=t.find("[class$=-picker]"),u=t.offset().left,p=t.offset().top,f=Math.round(e.pageX-u),g=Math.round(e.pageY-p),m=n?d.animationSpeed:0;e.originalEvent.changedTouches&&(f=e.originalEvent.changedTouches[0].pageX-u,g=e.originalEvent.changedTouches[0].pageY-p),f<0&&(f=0),g<0&&(g=0),f>t.width()&&(f=t.width()),g>t.height()&&(g=t.height()),t.parent().is(".minicolors-slider-wheel")&&h.parent().is(".minicolors-grid")&&(i=75-f,o=75-g,s=Math.sqrt(i*i+o*o),(a=Math.atan2(o,i))<0&&(a+=2*Math.PI),s>75&&(s=75,f=75-75*Math.cos(a),g=75-75*Math.sin(a)),f=Math.round(f),g=Math.round(g)),l={top:g+"px"},t.is(".minicolors-grid")&&(l.left=f+"px"),h.animate?h.stop(!0).animate(l,m,d.animationEasing,(function(){r(c,t)})):(h.css(l),r(c,t))}function r(t,e){function n(t,e){var n,i;return t.length&&e?(n=t.offset().left,i=t.offset().top,{x:n-e.offset().left+t.outerWidth()/2,y:i-e.offset().top+t.outerHeight()/2}):null}var i,o,r,a,c,d,h,u=t.val(),f=t.attr("data-opacity"),g=t.parent(),m=t.data("minicolors-settings"),b=g.find(".minicolors-input-swatch"),_=g.find(".minicolors-grid"),x=g.find(".minicolors-slider"),y=g.find(".minicolors-opacity-slider"),C=_.find("[class$=-picker]"),S=x.find("[class$=-picker]"),N=y.find("[class$=-picker]"),w=n(C,_),T=n(S,x),k=n(N,y);if(e.is(".minicolors-grid, .minicolors-slider, .minicolors-opacity-slider")){switch(m.control){case"wheel":a=_.width()/2-w.x,c=_.height()/2-w.y,d=Math.sqrt(a*a+c*c),(h=Math.atan2(c,a))<0&&(h+=2*Math.PI),d>75&&(d=75,w.x=69-75*Math.cos(h),w.y=69-75*Math.sin(h)),o=p(d/.75,0,100),u=v({h:i=p(180*h/Math.PI,0,360),s:o,b:r=p(100-Math.floor(T.y*(100/x.height())),0,100)}),x.css("backgroundColor",v({h:i,s:o,b:100}));break;case"saturation":u=v({h:i=p(parseInt(w.x*(360/_.width()),10),0,360),s:o=p(100-Math.floor(T.y*(100/x.height())),0,100),b:r=p(100-Math.floor(w.y*(100/_.height())),0,100)}),x.css("backgroundColor",v({h:i,s:100,b:r})),g.find(".minicolors-grid-inner").css("opacity",o/100);break;case"brightness":u=v({h:i=p(parseInt(w.x*(360/_.width()),10),0,360),s:o=p(100-Math.floor(w.y*(100/_.height())),0,100),b:r=p(100-Math.floor(T.y*(100/x.height())),0,100)}),x.css("backgroundColor",v({h:i,s:o,b:100})),g.find(".minicolors-grid-inner").css("opacity",1-r/100);break;default:u=v({h:i=p(360-parseInt(T.y*(360/x.height()),10),0,360),s:o=p(Math.floor(w.x*(100/_.width())),0,100),b:r=p(100-Math.floor(w.y*(100/_.height())),0,100)}),_.css("backgroundColor",v({h:i,s:100,b:100}))}s(t,u,f=m.opacity?parseFloat(1-k.y/y.height()).toFixed(2):1)}else b.find("span").css({backgroundColor:u,opacity:f}),l(t,u,f)}function s(t,e,n){var i,o=t.parent(),r=t.data("minicolors-settings"),s=o.find(".minicolors-input-swatch");r.opacity&&t.attr("data-opacity",n),"rgb"===r.format?(i=f(e)?h(e,!0):_(d(e,!0)),n=""===t.attr("data-opacity")?1:p(parseFloat(t.attr("data-opacity")).toFixed(2),0,1),!isNaN(n)&&r.opacity||(n=1),e=t.minicolors("rgbObject").a<=1&&i&&r.opacity?"rgba("+i.r+", "+i.g+", "+i.b+", "+parseFloat(n)+")":"rgb("+i.r+", "+i.g+", "+i.b+")"):(f(e)&&(e=m(e)),e=c(e,r.letterCase)),t.val(e),s.find("span").css({backgroundColor:e,opacity:n}),l(t,e,n)}function a(e,n){var i,o,r,s,a,b,x,y,C,S,N=e.parent(),w=e.data("minicolors-settings"),T=N.find(".minicolors-input-swatch"),k=N.find(".minicolors-grid"),E=N.find(".minicolors-slider"),L=N.find(".minicolors-opacity-slider"),R=k.find("[class$=-picker]"),A=E.find("[class$=-picker]"),O=L.find("[class$=-picker]");switch(f(e.val())?(i=m(e.val()),(a=p(parseFloat(g(e.val())).toFixed(2),0,1))&&e.attr("data-opacity",a)):i=c(d(e.val(),!0),w.letterCase),i||(i=c(u(w.defaultValue,!0),w.letterCase)),o=function(t){var e=function(t){var e={h:0,s:0,b:0},n=Math.min(t.r,t.g,t.b),i=Math.max(t.r,t.g,t.b),o=i-n;return e.b=i,e.s=0!==i?255*o/i:0,0!==e.s?t.r===i?e.h=(t.g-t.b)/o:t.g===i?e.h=2+(t.b-t.r)/o:e.h=4+(t.r-t.g)/o:e.h=-1,e.h*=60,e.h<0&&(e.h+=360),e.s*=100/255,e.b*=100/255,e}(_(t));return 0===e.s&&(e.h=360),e}(i),s=w.keywords?t.map(w.keywords.split(","),(function(e){return t.trim(e.toLowerCase())})):[],b=""!==e.val()&&t.inArray(e.val().toLowerCase(),s)>-1?c(e.val()):f(e.val())?h(e.val()):i,n||e.val(b),w.opacity&&(r=""===e.attr("data-opacity")?1:p(parseFloat(e.attr("data-opacity")).toFixed(2),0,1),isNaN(r)&&(r=1),e.attr("data-opacity",r),T.find("span").css("opacity",r),y=p(L.height()-L.height()*r,0,L.height()),O.css("top",y+"px")),"transparent"===e.val().toLowerCase()&&T.find("span").css("opacity",0),T.find("span").css("backgroundColor",i),w.control){case"wheel":C=p(Math.ceil(.75*o.s),0,k.height()/2),S=o.h*Math.PI/180,x=p(75-Math.cos(S)*C,0,k.width()),y=p(75-Math.sin(S)*C,0,k.height()),R.css({top:y+"px",left:x+"px"}),y=150-o.b/(100/k.height()),""===i&&(y=0),A.css("top",y+"px"),E.css("backgroundColor",v({h:o.h,s:o.s,b:100}));break;case"saturation":x=p(5*o.h/12,0,150),y=p(k.height()-Math.ceil(o.b/(100/k.height())),0,k.height()),R.css({top:y+"px",left:x+"px"}),y=p(E.height()-o.s*(E.height()/100),0,E.height()),A.css("top",y+"px"),E.css("backgroundColor",v({h:o.h,s:100,b:o.b})),N.find(".minicolors-grid-inner").css("opacity",o.s/100);break;case"brightness":x=p(5*o.h/12,0,150),y=p(k.height()-Math.ceil(o.s/(100/k.height())),0,k.height()),R.css({top:y+"px",left:x+"px"}),y=p(E.height()-o.b*(E.height()/100),0,E.height()),A.css("top",y+"px"),E.css("backgroundColor",v({h:o.h,s:o.s,b:100})),N.find(".minicolors-grid-inner").css("opacity",1-o.b/100);break;default:x=p(Math.ceil(o.s/(100/k.width())),0,k.width()),y=p(k.height()-Math.ceil(o.b/(100/k.height())),0,k.height()),R.css({top:y+"px",left:x+"px"}),y=p(E.height()-o.h/(360/E.height()),0,E.height()),A.css("top",y+"px"),k.css("backgroundColor",v({h:o.h,s:100,b:100}))}e.data("minicolors-initialized")&&l(e,b,r)}function l(t,e,n){var i,o,r,s=t.data("minicolors-settings"),a=t.data("minicolors-lastChange");if(!a||a.value!==e||a.opacity!==n){if(t.data("minicolors-lastChange",{value:e,opacity:n}),s.swatches&&0!==s.swatches.length){for(i=f(e)?h(e,!0):_(e),o=-1,r=0;r<s.swatches.length;++r)if(i.r===s.swatches[r].r&&i.g===s.swatches[r].g&&i.b===s.swatches[r].b&&i.a===s.swatches[r].a){o=r;break}t.parent().find(".minicolors-swatches .minicolors-swatch").removeClass("selected"),-1!==o&&t.parent().find(".minicolors-swatches .minicolors-swatch").eq(r).addClass("selected")}s.change&&(s.changeDelay?(clearTimeout(t.data("minicolors-changeTimeout")),t.data("minicolors-changeTimeout",setTimeout((function(){s.change.call(t.get(0),e,n)}),s.changeDelay))):s.change.call(t.get(0),e,n)),t.trigger("change").trigger("input")}}function c(t,e){return"uppercase"===e?t.toUpperCase():t.toLowerCase()}function d(t,e){return(t=t.replace(/^#/g,"")).match(/^[A-F0-9]{3,6}/gi)?3!==t.length&&6!==t.length?"":(3===t.length&&e&&(t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]),"#"+t):""}function h(t,e){var n=t.replace(/[^\d,.]/g,"").split(",");return n[0]=p(parseInt(n[0],10),0,255),n[1]=p(parseInt(n[1],10),0,255),n[2]=p(parseInt(n[2],10),0,255),void 0!==n[3]&&(n[3]=p(parseFloat(n[3],10),0,1)),e?void 0!==n[3]?{r:n[0],g:n[1],b:n[2],a:n[3]}:{r:n[0],g:n[1],b:n[2]}:void 0!==n[3]&&n[3]<=1?"rgba("+n[0]+", "+n[1]+", "+n[2]+", "+n[3]+")":"rgb("+n[0]+", "+n[1]+", "+n[2]+")"}function u(t,e){return f(t)?h(t):d(t,e)}function p(t,e,n){return t<e&&(t=e),t>n&&(t=n),t}function f(t){var e=t.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i);return!(!e||4!==e.length)}function g(t){return(t=t.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+(\.\d{1,2})?|\.\d{1,2})[\s+]?/i))&&6===t.length?t[4]:"1"}function m(t){return(t=t.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&4===t.length?"#"+("0"+parseInt(t[1],10).toString(16)).slice(-2)+("0"+parseInt(t[2],10).toString(16)).slice(-2)+("0"+parseInt(t[3],10).toString(16)).slice(-2):""}function b(e){var n=[e.r.toString(16),e.g.toString(16),e.b.toString(16)];return t.each(n,(function(t,e){1===e.length&&(n[t]="0"+e)})),"#"+n.join("")}function v(t){return b(function(t){var e={},n=Math.round(t.h),i=Math.round(255*t.s/100),o=Math.round(255*t.b/100);if(0===i)e.r=e.g=e.b=o;else{var r=o,s=(255-i)*o/255,a=n%60*(r-s)/60;360===n&&(n=0),n<60?(e.r=r,e.b=s,e.g=s+a):n<120?(e.g=r,e.b=s,e.r=r-a):n<180?(e.g=r,e.r=s,e.b=s+a):n<240?(e.b=r,e.r=s,e.g=r-a):n<300?(e.b=r,e.g=s,e.r=s+a):n<360?(e.r=r,e.g=s,e.b=r-a):(e.r=0,e.g=0,e.b=0)}return{r:Math.round(e.r),g:Math.round(e.g),b:Math.round(e.b)}}(t))}function _(t){return{r:(t=parseInt(t.indexOf("#")>-1?t.substring(1):t,16))>>16,g:(65280&t)>>8,b:255&t}}t.minicolors={defaults:{animationSpeed:50,animationEasing:"swing",change:null,changeDelay:0,control:"hue",defaultValue:"",format:"hex",hide:null,hideSpeed:100,inline:!1,keywords:"",letterCase:"lowercase",opacity:!1,position:"bottom",show:null,showSpeed:100,theme:"default",swatches:[]}},t.extend(t.fn,{minicolors:function(o,r){switch(o){case"destroy":return t(this).each((function(){e(t(this))})),t(this);case"hide":return i(),t(this);case"opacity":return void 0===r?t(this).attr("data-opacity"):(t(this).each((function(){a(t(this).attr("data-opacity",r))})),t(this));case"rgbObject":return function(e){var n,i=t(e).attr("data-opacity");if(f(t(e).val()))n=h(t(e).val(),!0);else{var o=d(t(e).val(),!0);n=_(o)}return n?(void 0!==i&&t.extend(n,{a:parseFloat(i)}),n):null}(t(this));case"rgbString":case"rgbaString":return function(e,n){var i,o=t(e).attr("data-opacity");if(f(t(e).val()))i=h(t(e).val(),!0);else{var r=d(t(e).val(),!0);i=_(r)}return i?(void 0===o&&(o=1),n?"rgba("+i.r+", "+i.g+", "+i.b+", "+parseFloat(o)+")":"rgb("+i.r+", "+i.g+", "+i.b+")"):null}(t(this),"rgbaString"===o);case"settings":return void 0===r?t(this).data("minicolors-settings"):(t(this).each((function(){var n=t(this).data("minicolors-settings")||{};e(t(this)),t(this).minicolors(t.extend(!0,n,r))})),t(this));case"show":return n(t(this).eq(0)),t(this);case"value":return void 0===r?t(this).val():(t(this).each((function(){"object"==typeof r&&null!==r?(void 0!==r.opacity&&t(this).attr("data-opacity",p(r.opacity,0,1)),r.color&&t(this).val(r.color)):t(this).val(r),a(t(this))})),t(this));default:return"create"!==o&&(r=o),t(this).each((function(){!function(e,n){var i,o,r,s,l,c,u,p=t('<div class="minicolors" />'),g=t.minicolors.defaults;if(!e.data("minicolors-initialized")){if(n=t.extend(!0,{},g,n),p.addClass("minicolors-theme-"+n.theme).toggleClass("minicolors-with-opacity",n.opacity),void 0!==n.position&&t.each(n.position.split(" "),(function(){p.addClass("minicolors-position-"+this)})),o="rgb"===n.format?n.opacity?"25":"20":n.keywords?"11":"7",e.addClass("minicolors-input").data("minicolors-initialized",!1).data("minicolors-settings",n).prop("size",o).wrap(p).after('<div class="minicolors-panel minicolors-slider-'+n.control+'"><div class="minicolors-slider minicolors-sprite"><div class="minicolors-picker"></div></div><div class="minicolors-opacity-slider minicolors-sprite"><div class="minicolors-picker"></div></div><div class="minicolors-grid minicolors-sprite"><div class="minicolors-grid-inner"></div><div class="minicolors-picker"><div></div></div></div></div>'),n.inline||(e.after('<span class="minicolors-swatch minicolors-sprite minicolors-input-swatch"><span class="minicolors-swatch-color"></span></span>'),e.next(".minicolors-input-swatch").on("click",(function(t){t.preventDefault(),e.focus()}))),(c=e.parent().find(".minicolors-panel")).on("selectstart",(function(){return!1})).end(),n.swatches&&0!==n.swatches.length)for(c.addClass("minicolors-with-swatches"),r=t('<ul class="minicolors-swatches"></ul>').appendTo(c),u=0;u<n.swatches.length;++u)"object"===t.type(n.swatches[u])?(i=n.swatches[u].name,s=n.swatches[u].color):(i="",s=n.swatches[u]),l=s,s=f(s)?h(s,!0):_(d(s,!0)),t('<li class="minicolors-swatch minicolors-sprite"><span class="minicolors-swatch-color" title="'+i+'"></span></li>').appendTo(r).data("swatch-color",l).find(".minicolors-swatch-color").css({backgroundColor:b(s),opacity:s.a}),n.swatches[u]=s;n.inline&&e.parent().addClass("minicolors-inline"),a(e,!1),e.data("minicolors-initialized",!0)}}(t(this),r)})),t(this)}}}),t([document]).on("mousedown.minicolors touchstart.minicolors",(function(e){t(e.target).parents().add(e.target).hasClass("minicolors")||i()})).on("mousedown.minicolors touchstart.minicolors",".minicolors-grid, .minicolors-slider, .minicolors-opacity-slider",(function(e){var n=t(this);e.preventDefault(),t(e.delegateTarget).data("minicolors-target",n),o(n,e,!0)})).on("mousemove.minicolors touchmove.minicolors",(function(e){var n=t(e.delegateTarget).data("minicolors-target");n&&o(n,e)})).on("mouseup.minicolors touchend.minicolors",(function(){t(this).removeData("minicolors-target")})).on("click.minicolors",".minicolors-swatches li",(function(e){e.preventDefault();var n=t(this),i=n.parents(".minicolors").find(".minicolors-input"),o=n.data("swatch-color");s(i,o,g(o)),a(i)})).on("mousedown.minicolors touchstart.minicolors",".minicolors-input-swatch",(function(e){var i=t(this).parent().find(".minicolors-input");e.preventDefault(),n(i)})).on("focus.minicolors",".minicolors-input",(function(){var e=t(this);e.data("minicolors-initialized")&&n(e)})).on("blur.minicolors",".minicolors-input",(function(){var e,n,i,o,r,s=t(this),a=s.data("minicolors-settings");s.data("minicolors-initialized")&&(e=a.keywords?t.map(a.keywords.split(","),(function(e){return t.trim(e.toLowerCase())})):[],r=""!==s.val()&&t.inArray(s.val().toLowerCase(),e)>-1?s.val():null===(i=f(s.val())?h(s.val(),!0):(n=d(s.val(),!0))?_(n):null)?a.defaultValue:"rgb"===a.format?a.opacity?h("rgba("+i.r+","+i.g+","+i.b+","+s.attr("data-opacity")+")"):h("rgb("+i.r+","+i.g+","+i.b+")"):b(i),o=a.opacity?s.attr("data-opacity"):1,"transparent"===r.toLowerCase()&&(o=0),s.closest(".minicolors").find(".minicolors-input-swatch > span").css("opacity",o),s.val(r),""===s.val()&&s.val(u(a.defaultValue,!0)),s.val(c(s.val(),a.letterCase)))})).on("keydown.minicolors",".minicolors-input",(function(e){var n=t(this);if(n.data("minicolors-initialized"))switch(e.which){case 9:i();break;case 13:case 27:i(),n.blur()}})).on("keyup.minicolors",".minicolors-input",(function(){var e=t(this);e.data("minicolors-initialized")&&a(e,!0)})).on("paste.minicolors",".minicolors-input",(function(){var e=t(this);e.data("minicolors-initialized")&&setTimeout((function(){a(e,!0)}),1)}))},"function"==typeof define&&n(140)?define(["jquery"],e):"object"==typeof exports?t.exports=e(n(1)):e(jQuery)}).call(this,n(139)(t))},358:function(t,e,n){var i=n(359);"string"==typeof i&&(i=[[t.i,i,""]]);var o={insert:"head",singleton:!1};n(66)(i,o);i.locals&&(t.exports=i.locals)},359:function(t,e,n){(t.exports=n(65)(!1)).push([t.i,".blind{overflow:hidden;position:absolute;width:1px;height:1px;margin:-1px;padding:0;border:0;line-height:0;white-space:normal;word-wrap:break-word;word-break:break-all;clip:rect(0, 0, 0, 0)}.blind:before{display:block;width:0;height:0;font-size:0;content:'\\00a0'}html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,big,cite,code,del,dfn,em,img,ins,kbd,q,s,samp,small,strike,strong,sub,sup,tt,var,b,u,i,center,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td,article,aside,canvas,details,embed,figure,figcaption,footer,header,hgroup,menu,nav,output,ruby,section,summary,time,mark,audio,video{border:0;font-size:100%;font:inherit;vertical-align:baseline;margin:0;padding:0;box-sizing:border-box}article,aside,details,figcaption,figure,footer,header,hgroup,menu,nav,section{display:block}body{line-height:1}ol,ul{list-style:none}blockquote,q{quotes:none}blockquote:before,blockquote:after{content:none}q:before,q:after{content:none}table{border-collapse:collapse;border-spacing:0}html,body{font-family:'Noto Sans KR', 'Roboto', sans-serif;min-height:100%;box-sizing:border-box;color:black}a{color:inherit;text-decoration:inherit}textarea:focus,input:focus{outline:none}button{padding:0;outline:0;background-color:inherit;border:0}input{-webkit-appearance:none;-moz-appearance:none;appearance:none;margin:0;border:0;padding:0;display:inline-block;vertical-align:middle;white-space:normal;background:none;line-height:1;font-size:13px}input:-webkit-autofill{-webkit-box-shadow:0 0 0 30px white inset !important}input:-webkit-autofill:hover,input:-webkit-autofill:focus,input:-webkit-autofill:active{-webkit-box-shadow:0 0 0 30px white inset !important}label,select,button,textarea{margin:0;border:0;padding:0;display:inline-block;vertical-align:middle;white-space:normal;background:none;line-height:1;font-size:13px}\n",""])},360:function(t,e,n){var i=n(361);"string"==typeof i&&(i=[[t.i,i,""]]);var o={insert:"head",singleton:!1};n(66)(i,o);i.locals&&(t.exports=i.locals)},361:function(t,e,n){(t.exports=n(65)(!1)).push([t.i,'.write_form{padding:10px 20px;}\n.title{font-size:21px;margin:15px 0;}\n\n.write_tit{font-size:15px;}\n.write_tit,\n\n.write_cont{display:block;width:100%;padding:10px;border:1px solid black;box-sizing:border-box;margin-top:20px;}\n.write_cont{min-height:15vh;}\n.write_cont.ty_summary{min-height:10vh;}\n.write_cont b{font-weight:bold;}\n.write_cont li{padding-left:5px;word-break:break-all;}\n.write_cont ul li:before{content:"";display:inline-block;width:10px;height:10px;border-radius:50%;background:black;margin-right:5px;}\n.write_cont ol{list-style:decimal;margin-left:15px;}\n\n.btnarea{display:flex;align-items:center;justify-content: space-evenly;padding:10px;border:1px solid black;}\n.btnarea + .btnarea{margin-top:-1px;}\n.btnarea .btn{display:block;line-height:1;font-size:21px;color:#ff5b59;font-weight:bold;}\n\n.inserted_image{width:100px;height:100px;}\n.inserted_image.on{max-width:100%;max-height:100%;width:auto;height:auto;position:fixed;top:0;left:0;right:0;bottom:0;margin:auto;overflow:auto;}\n\n.fontsize input{border:1px solid black; width:30px; margin-left:5px;}\n.submit{display:block;margin:auto;border:1px solid black; border-radius:20px; padding: 10px 80px; margin: 50px auto;}\n\n.fact_link{display: block; width: 100%; min-height: 15vh; border:1px solid black;}',""])},362:function(t,e,n){var i=n(363);"string"==typeof i&&(i=[[t.i,i,""]]);var o={insert:"head",singleton:!1};n(66)(i,o);i.locals&&(t.exports=i.locals)},363:function(t,e,n){e=t.exports=n(65)(!1);var i=n(129)(n(364));e.push([t.i,".minicolors {\n  position: relative;\n}\n\n.minicolors-sprite {\n  background-image: url("+i+");\n}\n\n.minicolors-swatch {\n  position: absolute;\n  vertical-align: middle;\n  background-position: -80px 0;\n  border: solid 1px #ccc;\n  cursor: text;\n  padding: 0;\n  margin: 0;\n  display: inline-block;\n}\n\n.minicolors-swatch-color {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n}\n\n.minicolors input[type=hidden] + .minicolors-swatch {\n  width: 28px;\n  position: static;\n  cursor: pointer;\n}\n\n.minicolors input[type=hidden][disabled] + .minicolors-swatch {\n  cursor: default;\n}\n\n/* Panel */\n.minicolors-panel {\n  position: fixed;\n  width: 173px;\n  background: white;\n  border: solid 1px #CCC;\n  box-shadow: 0 0 20px rgba(0, 0, 0, .2);\n  z-index: 99999;\n  box-sizing: content-box;\n  display: none;\n  top:50%;\n  left:50%;\n  transform:translateX(-50%);\n}\n\n.minicolors-panel.minicolors-visible {\n  display: block;\n}\n\n/* Panel positioning */\n.minicolors-position-top .minicolors-panel {\n  top: -154px;\n}\n\n.minicolors-position-right .minicolors-panel {\n  right: 0;\n}\n\n.minicolors-position-bottom .minicolors-panel {\n  top: auto;\n}\n\n.minicolors-position-left .minicolors-panel {\n  left: 0;\n}\n\n.minicolors-with-opacity .minicolors-panel {\n  width: 194px;\n}\n\n.minicolors .minicolors-grid {\n  position: relative;\n  top: 1px;\n  left: 1px; /* LTR */\n  width: 150px;\n  height: 150px;\n  margin-bottom: 2px;\n  background-position: -120px 0;\n  cursor: crosshair;\n}\n[dir=rtl] .minicolors .minicolors-grid {\n  right: 1px;\n}\n\n.minicolors .minicolors-grid-inner {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 150px;\n  height: 150px;\n}\n\n.minicolors-slider-saturation .minicolors-grid {\n  background-position: -420px 0;\n}\n\n.minicolors-slider-saturation .minicolors-grid-inner {\n  background-position: -270px 0;\n  background-image: inherit;\n}\n\n.minicolors-slider-brightness .minicolors-grid {\n  background-position: -570px 0;\n}\n\n.minicolors-slider-brightness .minicolors-grid-inner {\n  background-color: black;\n}\n\n.minicolors-slider-wheel .minicolors-grid {\n  background-position: -720px 0;\n}\n\n.minicolors-slider,\n.minicolors-opacity-slider {\n  position: absolute;\n  top: 1px;\n  left: 152px; /* LTR */\n  width: 20px;\n  height: 150px;\n  background-color: white;\n  background-position: 0 0;\n  cursor: row-resize;\n}\n[dir=rtl] .minicolors-slider,\n[dir=rtl] .minicolors-opacity-slider {\n  right: 152px;\n}\n\n.minicolors-slider-saturation .minicolors-slider {\n  background-position: -60px 0;\n}\n\n.minicolors-slider-brightness .minicolors-slider {\n  background-position: -20px 0;\n}\n\n.minicolors-slider-wheel .minicolors-slider {\n  background-position: -20px 0;\n}\n\n.minicolors-opacity-slider {\n  left: 173px; /* LTR */\n  background-position: -40px 0;\n  display: none;\n}\n[dir=rtl] .minicolors-opacity-slider {\n  right: 173px;\n}\n\n.minicolors-with-opacity .minicolors-opacity-slider {\n  display: block;\n}\n\n/* Pickers */\n.minicolors-grid .minicolors-picker {\n  position: absolute;\n  top: 70px;\n  left: 70px;\n  width: 12px;\n  height: 12px;\n  border: solid 1px black;\n  border-radius: 10px;\n  margin-top: -6px;\n  margin-left: -6px;\n  background: none;\n}\n\n.minicolors-grid .minicolors-picker > div {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 8px;\n  height: 8px;\n  border-radius: 8px;\n  border: solid 2px white;\n  box-sizing: content-box;\n}\n\n.minicolors-picker {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 18px;\n  height: 2px;\n  background: white;\n  border: solid 1px black;\n  margin-top: -2px;\n  box-sizing: content-box;\n}\n\n/* Swatches */\n.minicolors-swatches,\n.minicolors-swatches li {\n  margin: 5px 0 3px 5px; /* LTR */\n  padding: 0;\n  list-style: none;\n  overflow: hidden;\n}\n[dir=rtl] .minicolors-swatches,\n[dir=rtl] .minicolors-swatches li {\n  margin: 5px 5px 3px 0;\n}\n\n.minicolors-swatches .minicolors-swatch {\n  position: relative;\n  float: left; /* LTR */\n  cursor: pointer;\n  margin:0 4px 0 0; /* LTR */\n}\n[dir=rtl] .minicolors-swatches .minicolors-swatch {\n  float: right;\n  margin:0 0 0 4px;\n}\n\n.minicolors-with-opacity .minicolors-swatches .minicolors-swatch {\n  margin-right: 7px; /* LTR */\n}\n[dir=rtl] .minicolors-with-opacity .minicolors-swatches .minicolors-swatch {\n  margin-right: 0;\n  margin-left: 7px;\n}\n\n.minicolors-swatch.selected {\n  border-color: #000;\n}\n\n/* Inline controls */\n.minicolors-inline {\n  display: inline-block;\n}\n\n.minicolors-inline .minicolors-input {\n  display: none !important;\n}\n\n.minicolors-inline .minicolors-panel {\n  position: relative;\n  top: auto;\n  left: auto; /* LTR */\n  box-shadow: none;\n  z-index: auto;\n  display: inline-block;\n}\n[dir=rtl] .minicolors-inline .minicolors-panel {\n  right: auto;\n}\n\n/* Default theme */\n.minicolors-theme-default .minicolors-swatch {\n  top: 0;\n  left: 0;\n  width: 18px;\n  height: 18px;\n}\n[dir=rtl] .minicolors-theme-default .minicolors-swatch {\n  right: 5px;\n}\n.minicolors-theme-default .minicolors-swatches .minicolors-swatch {\n  margin-bottom: 2px;\n  top: 0;\n  left: 0; /* LTR */\n  width: 18px;\n  height: 18px;\n}\n[dir=rtl] .minicolors-theme-default .minicolors-swatches .minicolors-swatch {\n  right: 0;\n}\n.minicolors-theme-default.minicolors-position-right .minicolors-swatch {\n  left: auto; /* LTR */\n  right: 5px; /* LTR */\n}\n[dir=rtl] .minicolors-theme-default.minicolors-position-left .minicolors-swatch {\n  right: auto;\n  left: 5px;\n}\n.minicolors-theme-default.minicolors {\n  width: auto;\n  display: inline-block;\n}\n.minicolors-theme-default .minicolors-input {\n  height: 20px;\n  width: auto;\n  display: inline-block;\n  padding-left: 26px; /* LTR */\n}\n[dir=rtl] .minicolors-theme-default .minicolors-input {\n  text-align: right;\n  unicode-bidi: plaintext;\n  padding-left: 1px;\n  padding-right: 26px;\n}\n.minicolors-theme-default.minicolors-position-right .minicolors-input {\n  padding-right: 26px; /* LTR */\n  padding-left: inherit; /* LTR */\n}\n[dir=rtl] .minicolors-theme-default.minicolors-position-left .minicolors-input {\n  padding-right: inherit;\n  padding-left: 26px;\n}\n\n/* Bootstrap theme */\n.minicolors-theme-bootstrap .minicolors-swatch {\n  z-index: 2;\n  top: 3px;\n  left: 3px; /* LTR */\n  width: 28px;\n  height: 28px;\n  border-radius: 3px;\n}\n[dir=rtl] .minicolors-theme-bootstrap .minicolors-swatch {\n  right: 3px;\n}\n.minicolors-theme-bootstrap .minicolors-swatches .minicolors-swatch {\n  margin-bottom: 2px;\n  top: 0;\n  left: 0; /* LTR */\n  width: 20px;\n  height: 20px;\n}\n[dir=rtl] .minicolors-theme-bootstrap .minicolors-swatches .minicolors-swatch {\n  right: 0;\n}\n.minicolors-theme-bootstrap .minicolors-swatch-color {\n  border-radius: inherit;\n}\n.minicolors-theme-bootstrap.minicolors-position-right > .minicolors-swatch {\n  left: auto; /* LTR */\n  right: 3px; /* LTR */\n}\n[dir=rtl] .minicolors-theme-bootstrap.minicolors-position-left > .minicolors-swatch {\n  right: auto;\n  left: 3px;\n}\n.minicolors-theme-bootstrap .minicolors-input {\n  float: none;\n  padding-left: 44px; /* LTR */\n}\n[dir=rtl] .minicolors-theme-bootstrap .minicolors-input {\n  text-align: right;\n  unicode-bidi: plaintext;\n  padding-left: 12px;\n  padding-right: 44px;\n}\n.minicolors-theme-bootstrap.minicolors-position-right .minicolors-input {\n  padding-right: 44px; /* LTR */\n  padding-left: 12px; /* LTR */\n}\n[dir=rtl] .minicolors-theme-bootstrap.minicolors-position-left .minicolors-input {\n  padding-right: 12px;\n  padding-left: 44px;\n}\n.minicolors-theme-bootstrap .minicolors-input.input-lg + .minicolors-swatch {\n  top: 4px;\n  left: 4px; /* LTR */\n  width: 37px;\n  height: 37px;\n  border-radius: 5px;\n}\n[dir=rtl] .minicolors-theme-bootstrap .minicolors-input.input-lg + .minicolors-swatch {\n  right: 4px;\n}\n.minicolors-theme-bootstrap .minicolors-input.input-sm + .minicolors-swatch {\n  width: 24px;\n  height: 24px;\n}\n.minicolors-theme-bootstrap .minicolors-input.input-xs + .minicolors-swatch {\n  width: 18px;\n  height: 18px;\n}\n.input-group .minicolors-theme-bootstrap:not(:first-child) .minicolors-input {\n  border-top-left-radius: 0; /* LTR */\n  border-bottom-left-radius: 0; /* LTR */\n}\n[dir=rtl] .input-group .minicolors-theme-bootstrap .minicolors-input {\n  border-radius: 4px;\n}\n[dir=rtl] .input-group .minicolors-theme-bootstrap:not(:first-child) .minicolors-input {\n  border-top-right-radius: 0;\n  border-bottom-right-radius: 0;\n}\n[dir=rtl] .input-group .minicolors-theme-bootstrap:not(:last-child) .minicolors-input {\n  border-top-left-radius: 0;\n  border-bottom-left-radius: 0;\n}\n/* bootstrap input-group rtl override */\n[dir=rtl] .input-group .form-control,\n[dir=rtl] .input-group-addon,\n[dir=rtl] .input-group-btn > .btn,\n[dir=rtl] .input-group-btn > .btn-group > .btn,\n[dir=rtl] .input-group-btn > .dropdown-toggle {\n  border: 1px solid #ccc;\n  border-radius: 4px;\n}\n[dir=rtl] .input-group .form-control:first-child,\n[dir=rtl] .input-group-addon:first-child,\n[dir=rtl] .input-group-btn:first-child > .btn,\n[dir=rtl] .input-group-btn:first-child > .btn-group > .btn,\n[dir=rtl] .input-group-btn:first-child > .dropdown-toggle,\n[dir=rtl] .input-group-btn:last-child > .btn:not(:last-child):not(.dropdown-toggle),\n[dir=rtl] .input-group-btn:last-child > .btn-group:not(:last-child) > .btn {\n  border-top-left-radius: 0;\n  border-bottom-left-radius: 0;\n  border-left: 0;\n}\n[dir=rtl] .input-group .form-control:last-child,\n[dir=rtl] .input-group-addon:last-child,\n[dir=rtl] .input-group-btn:last-child > .btn,\n[dir=rtl] .input-group-btn:last-child > .btn-group > .btn,\n[dir=rtl] .input-group-btn:last-child > .dropdown-toggle,\n[dir=rtl] .input-group-btn:first-child > .btn:not(:first-child),\n[dir=rtl] .input-group-btn:first-child > .btn-group:not(:first-child) > .btn {\n  border-top-right-radius: 0;\n  border-bottom-right-radius: 0;\n}\n\n/* Semantic Ui theme */\n.minicolors-theme-semanticui .minicolors-swatch {\n  top: 0;\n  left: 0; /* LTR */\n  padding: 18px;\n}\n[dir=rtl] .minicolors-theme-semanticui .minicolors-swatch {\n  right: 0;\n}\n.minicolors-theme-semanticui input {\n  text-indent: 30px;\n}\n",""])},364:function(t,e,n){t.exports=n.p+"img/jquery.minicolors.png"},368:function(t,e,n){"use strict";n.r(e);n(356),n(357);var i=n(11);n(26);$((function(){$(".write_form").submit((function(t){t.preventDefault();var s=$(this).get(0),a=i.a.URL_CREATE_POST,l=$("button.submit"),c=new FormData(s),d=new Blob([e.getHTML()],{type:"text/xml"}),h=new Blob([n.getHTML()],{type:"text/xml"}),u=new Blob([o.getHTML()],{type:"text/xml"}),p=new Blob([r.getHTML()],{type:"text/xml"});c.append("summary_file",d),c.append("pros_file",h),c.append("cons_file",u),c.append("fact_file",p),console.log("전송할 데이터 \n",...c),l.prop("disabled",!0),$.ajax({type:"POST",url:a,data:c,enctype:"multipart/form-data",processData:!1,contentType:!1,cache:!1,success:function(t){window.location.href="http://2weeks.io/issueTeller"},error:function(t){alert("글 작성 실패"),console.log(t),l.prop("disabled",!1)},done:function(t){l.prop("disabled",!1)}})}));const t=$(".write_cont"),e=new Squire(t.get(0),{blockTag:"P",blockAttributes:{class:"content_desc"}}),n=new Squire(t.get(1),{blockTag:"li",blockAttributes:{class:"list_item"}}),o=new Squire(t.get(2),{blockTag:"li",blockAttributes:{class:"list_item"}}),r=new Squire(t.get(3),{blockTag:"li",blockAttributes:{class:"list_item on"}}),s=[e,n,o,r];let a=s[0];$(".write_cont").click((function(t){const e=$(t.delegateTarget),n=$(".write_cont").index(e);a=s[n]})),$(".colorpicker").each((function(){$(this).minicolors({control:$(this).attr("data-control")||"hue",defaultValue:$(this).attr("data-defaultValue")||"#000",format:$(this).attr("data-format")||"hex",keywords:$(this).attr("data-keywords")||"",inline:"true"===$(this).attr("data-inline"),letterCase:$(this).attr("data-letterCase")||"lowercase",opacity:$(this).attr("data-opacity"),position:$(this).attr("data-position")||"bottom",swatches:$(this).attr("data-swatches")?$(this).attr("data-swatches").split("|"):[],change:function(t,e){var n;try{n=t||"#000",a.setTextColour(n),e&&(n+=", "+e),console.log(n)}catch(t){}},theme:"default",position:"top bottom"})})),$("body").on("click",".inserted_image",(function(t){$(t.target).toggleClass("on")})),$(".fontsize").on("blur keyup","input",(function(t){"keyup"===t.type&&13!=t.keyCode||(a.setFontSize($(t.target).val()+"px"),t.preventDefault())})),$(".bold").click((function(){const t=$(this).data("bold");t?a.bold():a.removeBold(),$(this).data("bold",!t)})),$(".underline").click((function(){const t=$(this).data("underline");t?a.underline():a.removeUnderline(),$(this).data("underline",!t)})),$(".ordered").click((function(){a.makeOrderedList()})),$(".unordered").click((function(){a.makeUnorderedList()})),$(".indent").click((function(){a.increaseListLevel()}))}));n(358),n(360),n(362)}});